<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>åœ°éœ‡TRPGã‚·ãƒŠãƒªã‚ª â€” ãƒã‚¿ã‚¿ãƒ“ã‚¯ãƒªãƒ‹ãƒƒã‚¯é™¢é•·ã®ä¸€æ—¥</title>
  <link rel="apple-touch-icon" href="doctor_cat.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="åœ°éœ‡TRPG">
  <style>
    /* ===== RESET & BASE ===== */
    *,
    *::before,
    *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      /* Palette */
      --primary: #5A67D8;
      /* Indigo base */
      --primary-dark: #434190;
      --secondary: #2DD4BF;
      /* Teal highlight */
      --accent: #F97316;
      /* Orange active highlight */
      --bg-dark: #0F172A;
      /* Slate 900 */
      --bg-gradient: linear-gradient(135deg, #1E293B, #0F172A);
      --surface: rgba(255, 255, 255, 0.95);
      --surface-glass: rgba(255, 255, 255, 0.08);
      --text-main: #111827;
      --text-muted: #6B7280;
      --text-light: #F1F5F9;
      --orange: #FF6B35;
      --yellow: #FFD166;
      --red: #EF4444;
      --green: #10B981;
      --blue: #118AB2;
      --bubble-left: #FFFFFF;
      --bubble-right: #E0E7FF;
      --font-main: 'Zen Kaku Gothic New', "Hiragino Kaku Gothic ProN", "Meiryo", sans-serif;
    }

    html,
    body {
      height: 100%;
      font-family: var(--font-main);
      background: #0f172a;
      color: var(--text-main);
      -webkit-text-size-adjust: 100%;
      overscroll-behavior-y: none;
    }

    /* ===== SCREEN SYSTEM ===== */
    .screen {
      display: none;
      position: fixed;
      inset: 0;
      overflow-y: scroll;
      overflow-x: hidden;
      -webkit-overflow-scrolling: touch;
      touch-action: pan-y;
      overscroll-behavior-y: none;
      background: var(--bg-gradient);
    }

    .screen.active {
      display: flex;
      flex-direction: column;
    }

    /* Wrap to simulate mobile view on desktop */
    #app-container {
      width: 100%;
      max-width: 480px;
      /* iPhone width approx */
      background: var(--bg-dark);
      position: relative;
      overflow-x: hidden;
      min-height: 100vh;
      box-shadow: 0 0 40px rgba(0, 0, 0, 0.5);
    }

    /* ===== PROGRESS BAR ===== */
    #progress-bar-wrap {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: rgba(255, 255, 255, 0.2);
      z-index: 1000;
      display: none;
    }

    #progress-bar-wrap.visible {
      display: block;
    }

    #progress-bar {
      height: 100%;
      background: linear-gradient(90deg, var(--orange), var(--yellow));
      transition: width 0.4s ease;
    }

    /* ===== ACT LABEL ===== */
    .act-label {
      position: fixed;
      top: 10px;
      right: 56px;
      background: rgba(29, 29, 44, 0.8);
      color: var(--yellow);
      font-size: 11px;
      font-weight: 700;
      padding: 4px 10px;
      border-radius: 20px;
      z-index: 999;
      letter-spacing: 0.5px;
      display: none;
    }

    .act-label.visible {
      display: block;
    }

    /* ===== JUMP MENU ===== */
    .menu-toggle-btn {
      position: fixed;
      top: 12px;
      right: 10px;
      width: 38px;
      height: 38px;
      border: none;
      border-radius: 10px;
      background: rgba(15, 23, 42, 0.8);
      color: white;
      font-size: 20px;
      font-weight: 700;
      cursor: pointer;
      z-index: 1200;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.25);
    }

    .jump-menu-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.35);
      z-index: 1190;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s ease;
    }

    .jump-menu-overlay.visible {
      opacity: 1;
      pointer-events: auto;
    }

    .jump-menu {
      position: fixed;
      top: 0;
      left: 0;
      bottom: 0;
      width: min(340px, 84vw);
      background: #FFFFFF;
      z-index: 1210;
      transform: translateX(-100%);
      transition: transform 0.22s ease;
      box-shadow: 8px 0 24px rgba(15, 23, 42, 0.22);
      display: flex;
      flex-direction: column;
    }

    .jump-menu.open {
      transform: translateX(0);
    }

    .jump-menu-header {
      padding: 16px;
      background: linear-gradient(135deg, #1D4ED8, #2563EB);
      color: white;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .jump-menu-title {
      font-size: 16px;
      font-weight: 900;
      letter-spacing: 0.3px;
    }

    .jump-menu-close {
      width: 32px;
      height: 32px;
      border: none;
      border-radius: 8px;
      background: rgba(255, 255, 255, 0.2);
      color: white;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
    }

    .jump-menu-body {
      padding: 12px;
      overflow-y: auto;
      flex: 1;
      background: #F8FAFC;
    }

    .jump-group {
      background: white;
      border: 1px solid #E5E7EB;
      border-radius: 12px;
      padding: 10px;
      margin-bottom: 10px;
    }

    .jump-group-title {
      font-size: 11px;
      font-weight: 800;
      color: #64748B;
      letter-spacing: 0.5px;
      margin-bottom: 8px;
      text-transform: uppercase;
    }

    .jump-item {
      width: 100%;
      border: none;
      background: #F1F5F9;
      color: #0F172A;
      font-size: 13px;
      text-align: left;
      padding: 10px 12px;
      border-radius: 10px;
      margin-bottom: 6px;
      cursor: pointer;
      line-height: 1.4;
    }

    .jump-item:last-child {
      margin-bottom: 0;
    }

    .jump-item:active {
      transform: scale(0.98);
      background: #E2E8F0;
    }

    .jump-item-primary {
      background: linear-gradient(135deg, var(--accent), #EA580C);
      color: white;
      font-weight: 800;
      border: 1px solid rgba(234, 88, 12, 0.35);
      box-shadow: 0 6px 18px rgba(234, 88, 12, 0.28);
      margin-bottom: 10px;
    }

    .jump-item-primary:active {
      background: linear-gradient(135deg, #EA580C, #C2410C);
    }

    .jump-item-door {
      border-left: 4px solid #F97316;
      background: #FFF7ED;
      font-weight: 800;
    }

    /* ===== TITLE SCREEN ===== */
    #screen-title {
      background: linear-gradient(145deg, #1E1B4B 0%, var(--bg-dark) 100%);
      justify-content: flex-start;
      align-items: center;
      min-height: 100vh;
    }

    #screen-title::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at 50% 30%, rgba(90, 103, 216, 0.2), transparent 60%);
      pointer-events: none;
    }

    .title-inner {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 40px 24px;
      max-width: 480px;
      margin: 0 auto;
      width: 100%;
      z-index: 10;
      position: relative;
    }

    .workshop-label {
      background: transparent;
      color: var(--secondary);
      font-size: 13px;
      font-weight: 700;
      letter-spacing: 2px;
      margin-bottom: 24px;
      text-transform: uppercase;
    }

    .title-cat {
      font-size: 80px;
      margin-bottom: 16px;
      filter: drop-shadow(0 4px 12px rgba(255, 107, 53, 0.4));
    }

    .title-main {
      font-size: 32px;
      font-weight: 900;
      color: white;
      text-align: center;
      line-height: 1.25;
      margin-bottom: 16px;
      text-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
      background: linear-gradient(135deg, #FFFFFF, #E2E8F0);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .title-sub {
      font-size: 14px;
      color: rgba(255, 255, 255, 0.6);
      text-align: center;
      margin-bottom: 32px;
      line-height: 1.6;
    }

    .char-card {
      background: var(--surface-glass);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 24px;
      width: 100%;
      margin-bottom: 32px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }

    .char-card-title {
      font-size: 12px;
      color: var(--secondary);
      font-weight: 700;
      letter-spacing: 1px;
      margin-bottom: 12px;
      text-transform: uppercase;
    }

    .char-name {
      font-size: 20px;
      font-weight: 900;
      color: white;
      margin-bottom: 4px;
    }

    .char-name-sub {
      font-size: 12px;
      color: #94A3B8;
      margin-bottom: 12px;
    }

    .char-desc {
      font-size: 13px;
      color: #CBD5E1;
      line-height: 1.7;
      border-top: 1px solid rgba(255, 255, 255, 0.08);
      padding-top: 12px;
    }

    .time-badge {
      display: flex;
      align-items: center;
      gap: 12px;
      background: rgba(239, 68, 68, 0.15);
      border: 1px solid rgba(239, 68, 68, 0.3);
      border-radius: 16px;
      padding: 16px;
      width: 100%;
      margin-bottom: 40px;
    }

    .time-badge .icon {
      font-size: 24px;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.1);
      }

      100% {
        transform: scale(1);
      }
    }

    .time-badge .text {
      font-size: 13px;
      color: #FECACA;
      line-height: 1.5;
    }

    .time-badge .text strong {
      color: #FCA5A5;
      font-size: 14px;
    }

    .btn-start {
      width: 100%;
      padding: 20px;
      background: linear-gradient(135deg, var(--accent), #EA580C);
      color: white;
      font-size: 18px;
      font-weight: 900;
      border: none;
      border-radius: 16px;
      cursor: pointer;
      letter-spacing: 1px;
      box-shadow: 0 8px 24px rgba(234, 88, 12, 0.4);
      transition: all 0.2s ease;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
    }

    .btn-start:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 28px rgba(234, 88, 12, 0.5);
    }

    .btn-start:active {
      transform: scale(0.98);
      box-shadow: 0 4px 12px rgba(234, 88, 12, 0.3);
    }

    /* ===== NEWS SCREEN ===== */
    #screen-news {
      background: #111;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .news-inner {
      width: 100%;
      max-width: 480px;
      margin: 0 auto;
      padding: 20px 20px calc(20px + env(safe-area-inset-bottom));
    }

    .tv-frame {
      background: #222;
      border: 3px solid #444;
      border-radius: 12px;
      overflow: hidden;
      margin-bottom: 20px;
    }

    .tv-header {
      background: #CC0000;
      padding: 8px 14px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .tv-channel {
      color: white;
      font-size: 12px;
      font-weight: 900;
      letter-spacing: 1px;
    }

    .tv-live {
      background: #FF0000;
      color: white;
      font-size: 10px;
      font-weight: 700;
      padding: 2px 8px;
      border-radius: 4px;
      animation: blink 1s infinite;
    }

    @keyframes blink {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0.4;
      }
    }

    .tv-screen {
      background: linear-gradient(180deg, #1a2a4a 0%, #0a0a1a 100%);
      padding: 20px;
      min-height: 200px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .tv-breaking {
      background: var(--red);
      color: white;
      font-size: 13px;
      font-weight: 700;
      padding: 4px 10px;
      display: inline-block;
      margin-bottom: 12px;
      border-radius: 4px;
    }

    .tv-headline {
      font-size: 20px;
      font-weight: 900;
      color: white;
      line-height: 1.4;
      margin-bottom: 16px;
    }

    .tv-body {
      font-size: 13px;
      color: rgba(255, 255, 255, 0.8);
      line-height: 1.8;
    }

    .tv-ticker {
      background: var(--orange);
      overflow: hidden;
      padding: 8px 0;
    }

    .tv-ticker-inner {
      white-space: nowrap;
      animation: ticker 20s linear infinite;
      color: white;
      font-size: 13px;
      font-weight: 700;
      padding-left: 100%;
    }

    @keyframes ticker {
      0% {
        transform: translateX(0);
      }

      100% {
        transform: translateX(-100%);
      }
    }

    .news-detail {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 16px;
    }

    .news-detail h3 {
      font-size: 13px;
      color: var(--yellow);
      font-weight: 700;
      margin-bottom: 10px;
    }

    .news-detail ul {
      list-style: none;
      padding: 0;
    }

    .news-detail ul li {
      font-size: 13px;
      color: rgba(255, 255, 255, 0.8);
      padding: 4px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      line-height: 1.6;
    }

    .news-detail ul li::before {
      content: "â–¶ ";
      color: var(--orange);
    }

    .news-detail ul li:last-child {
      border-bottom: none;
    }

    .btn-news-next {
      width: 100%;
      padding: 16px;
      background: linear-gradient(135deg, #CC0000, var(--orange));
      color: white;
      font-size: 16px;
      font-weight: 900;
      border: none;
      border-radius: 14px;
      cursor: pointer;
      box-shadow: 0 6px 20px rgba(204, 0, 0, 0.3);
    }

    /* ===== CHAT SCREEN ===== */
    #screen-chat {
      background: var(--chat-bg);
      overflow: hidden;
    }

    #screen-chat.active {
      display: flex;
      flex-direction: column;
    }

    .chat-header {
      background: #075E54;
      padding: 12px 16px;
      padding-top: max(12px, env(safe-area-inset-top));
      display: flex;
      align-items: center;
      gap: 12px;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .chat-avatar {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--orange), #FF8C5A);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      flex-shrink: 0;
    }

    .chat-header-info {
      flex: 1;
    }

    .chat-header-name {
      font-size: 16px;
      font-weight: 700;
      color: white;
    }

    .chat-header-sub {
      font-size: 12px;
      color: rgba(255, 255, 255, 0.7);
    }

    .chat-body {
      padding: 16px 12px;
      flex: 1;
      min-height: 0;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
      overscroll-behavior-y: contain;
    }

    .chat-date-label {
      text-align: center;
      margin: 12px 0;
    }

    .chat-date-label span {
      background: rgba(0, 0, 0, 0.2);
      color: white;
      font-size: 11px;
      padding: 4px 12px;
      border-radius: 10px;
    }

    .chat-scene-label {
      text-align: center;
      margin: 20px 0 12px;
    }

    .chat-scene-label span {
      background: var(--orange);
      color: white;
      font-size: 12px;
      font-weight: 700;
      padding: 6px 16px;
      border-radius: 20px;
      box-shadow: 0 3px 10px rgba(255, 107, 53, 0.3);
    }

    /* Bubbles */
    .bubble-wrap {
      display: flex;
      margin-bottom: 12px;
      align-items: flex-start;
      gap: 8px;
    }

    .bubble-wrap.right {
      flex-direction: row-reverse;
    }

    .bubble-avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      flex-shrink: 0;
      background: #ddd;
    }

    .bubble-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 50%;
      display: block;
    }

    .bubble-avatar.narrator {
      background: linear-gradient(135deg, #4a9eda, #2980b9);
    }

    .bubble-avatar.nanta {
      background: linear-gradient(135deg, var(--orange), #FF8C5A);
    }

    .bubble-avatar.staff {
      background: linear-gradient(135deg, #06D6A0, #05b386);
    }

    .bubble-avatar.patient {
      background: linear-gradient(135deg, #8B5CF6, #7c3aed);
    }

    .bubble-avatar.system {
      background: linear-gradient(135deg, #E63946, #cc2f3b);
    }

    .bubble-content {
      max-width: calc(100% - 50px);
    }

    .bubble-sender {
      font-size: 11px;
      color: var(--gray);
      margin-bottom: 4px;
      padding-left: 4px;
    }

    .bubble {
      display: inline-block;
      padding: 10px 14px;
      border-radius: 18px;
      font-size: 14px;
      line-height: 1.6;
      max-width: 100%;
      position: relative;
      word-break: break-word;
    }

    .bubble.left {
      background: var(--bubble-left);
      border-top-left-radius: 4px;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    }

    .bubble.right {
      background: var(--bubble-right);
      border-top-right-radius: 4px;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    }

    .bubble.system-msg {
      background: rgba(230, 57, 70, 0.1);
      border: 1px solid rgba(230, 57, 70, 0.3);
      border-radius: 12px;
      color: var(--red);
      font-weight: 600;
      font-size: 13px;
    }

    .bubble-time {
      font-size: 10px;
      color: var(--gray);
      margin-top: 4px;
      padding-left: 4px;
    }

    .bubble-wrap.right .bubble-time {
      text-align: right;
      padding-left: 0;
      padding-right: 4px;
    }

    /* Typing indicator */
    .typing-indicator {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 12px;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .typing-indicator.visible {
      opacity: 1;
    }

    .typing-dots {
      background: white;
      border-radius: 18px;
      border-top-left-radius: 4px;
      padding: 10px 14px;
      display: flex;
      gap: 4px;
      align-items: center;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    }

    .typing-dot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background: #aaa;
      animation: typingBounce 1.2s ease infinite;
    }

    .typing-dot:nth-child(2) {
      animation-delay: 0.2s;
    }

    .typing-dot:nth-child(3) {
      animation-delay: 0.4s;
    }

    @keyframes typingBounce {

      0%,
      60%,
      100% {
        transform: translateY(0);
      }

      30% {
        transform: translateY(-8px);
      }
    }

    /* Choice area */
    .choice-area {
      background: var(--surface);
      border-top: 1px solid rgba(0, 0, 0, 0.05);
      padding: 20px 16px;
      padding-bottom: max(20px, env(safe-area-inset-bottom));
      box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.04);
      flex-shrink: 0;
      max-height: 55vh;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }

    .choice-label {
      font-size: 14px;
      font-weight: 800;
      color: var(--primary-dark);
      margin-bottom: 12px;
      text-align: center;
    }

    .choice-btn {
      width: 100%;
      padding: 16px 18px;
      margin-bottom: 10px;
      background: white;
      border: 2px solid #E2E8F0;
      border-radius: 16px;
      font-size: 14px;
      color: var(--text-main);
      cursor: pointer;
      text-align: left;
      line-height: 1.5;
      transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      display: flex;
      align-items: flex-start;
      gap: 12px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02);
    }

    .choice-btn:hover {
      border-color: var(--primary);
      box-shadow: 0 4px 12px rgba(90, 103, 216, 0.15);
      transform: translateY(-2px);
    }

    .choice-btn:active {
      transform: scale(0.98);
    }

    .choice-letter {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: #F1F5F9;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
      font-weight: 800;
      flex-shrink: 0;
      color: var(--text-muted);
      transition: background 0.2s, color 0.2s;
    }

    /* Keep choices visually neutral before selection to avoid hinting answers. */
    .choice-btn.best,
    .choice-btn.ok,
    .choice-btn.great,
    .choice-btn.rethink {
      border-color: #E2E8F0;
      background: white;
    }

    .choice-btn.best .choice-letter,
    .choice-btn.ok .choice-letter,
    .choice-btn.great .choice-letter,
    .choice-btn.rethink .choice-letter {
      background: #F1F5F9;
      color: var(--text-muted);
    }

    /* ===== RESULT SCREEN ===== */
    #screen-result {
      background: var(--light-gray);
      min-height: 100vh;
      flex-direction: column;
    }

    .result-header {
      padding: 20px 16px 12px;
      background: white;
      border-bottom: 1px solid #E5E7EB;
    }

    .result-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .result-badge.great {
      background: rgba(6, 214, 160, 0.15);
      color: #059669;
    }

    .result-badge.good {
      background: rgba(255, 209, 102, 0.2);
      color: #D97706;
    }

    .result-badge.rethink {
      background: rgba(229, 57, 70, 0.1);
      color: var(--red);
    }

    .result-title {
      font-size: 20px;
      font-weight: 900;
      color: var(--dark);
      line-height: 1.3;
    }

    .result-body {
      padding: 16px 16px calc(24px + env(safe-area-inset-bottom));
      flex: 1;
      overflow-y: auto;
    }

    .simulation-embed {
      padding: 0 !important;
      overflow: visible !important;
      margin-bottom: calc(12px + env(safe-area-inset-bottom));
    }

    .simulation-embed iframe {
      width: 100%;
      height: clamp(570px, 93svh, 1020px);
      border: 0;
      display: block;
    }

    @supports not (height: 100svh) {
      .simulation-embed iframe {
        height: clamp(570px, 93vh, 1020px);
      }
    }

    .btn-sim-control {
      background: linear-gradient(135deg, #1D4ED8, #2563EB) !important;
      color: #fff !important;
    }

    .simulation-after-box {
      margin-top: 12px;
    }

    .simulation-scroll-spacer {
      height: calc(120px + env(safe-area-inset-bottom));
      pointer-events: none;
    }

    .result-selected {
      background: white;
      border-radius: 14px;
      padding: 16px;
      margin-bottom: 16px;
      border-left: 4px solid var(--gray);
    }

    .result-selected.great {
      border-left-color: var(--green);
    }

    .result-selected.good {
      border-left-color: var(--yellow);
    }

    .result-selected.rethink {
      border-left-color: var(--red);
    }

    .result-selected-label {
      font-size: 11px;
      color: var(--gray);
      margin-bottom: 6px;
      font-weight: 700;
    }

    .result-selected-text {
      font-size: 15px;
      color: var(--dark);
      line-height: 1.6;
    }

    .result-comment {
      background: white;
      border-radius: 14px;
      padding: 16px;
      margin-bottom: 16px;
    }

    .result-comment h3 {
      font-size: 13px;
      font-weight: 700;
      color: var(--orange);
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .result-comment p {
      font-size: 14px;
      line-height: 1.8;
      color: #374151;
    }

    .best-choice-box {
      background: linear-gradient(135deg, rgba(6, 214, 160, 0.1), rgba(6, 214, 160, 0.05));
      border: 2px solid var(--green);
      border-radius: 14px;
      padding: 16px;
      margin-bottom: 16px;
    }

    .best-choice-box h3 {
      font-size: 13px;
      font-weight: 700;
      color: var(--green);
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .best-choice-box p {
      font-size: 14px;
      line-height: 1.7;
      color: #065F46;
    }

    .learning-box {
      background: linear-gradient(135deg, rgba(17, 138, 178, 0.1), rgba(17, 138, 178, 0.05));
      border: 2px solid var(--blue);
      border-radius: 14px;
      padding: 16px;
      margin-bottom: 20px;
    }

    .learning-box h3 {
      font-size: 13px;
      font-weight: 700;
      color: var(--blue);
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .learning-box p {
      font-size: 14px;
      line-height: 1.7;
      color: #1E40AF;
      font-weight: 600;
    }

    .btn-continue {
      width: 100%;
      padding: 18px;
      background: linear-gradient(135deg, var(--dark), #2D1B4E);
      color: white;
      font-size: 16px;
      font-weight: 900;
      border: none;
      border-radius: 14px;
      cursor: pointer;
      box-shadow: 0 6px 20px rgba(29, 29, 44, 0.3);
    }

    /* ===== ACT BREAK SCREEN ===== */
    #screen-act-break {
      background: linear-gradient(160deg, #1D1D2C, #2D1B4E);
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .act-break-inner {
      text-align: center;
      padding: 40px 24px;
      max-width: 480px;
      margin: 0 auto;
    }

    .act-number {
      font-size: 13px;
      color: var(--orange);
      font-weight: 700;
      letter-spacing: 2px;
      margin-bottom: 12px;
    }

    .act-title {
      font-size: 28px;
      font-weight: 900;
      color: white;
      line-height: 1.3;
      margin-bottom: 16px;
    }

    .act-goal {
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.15);
      border-radius: 14px;
      padding: 16px 20px;
      margin-bottom: 32px;
      text-align: left;
    }

    .act-goal-label {
      font-size: 11px;
      color: var(--yellow);
      font-weight: 700;
      letter-spacing: 1px;
      margin-bottom: 8px;
    }

    .act-goal-text {
      font-size: 14px;
      color: rgba(255, 255, 255, 0.85);
      line-height: 1.7;
    }

    .act-time-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: rgba(255, 107, 53, 0.2);
      border: 1px solid rgba(255, 107, 53, 0.4);
      color: var(--orange);
      font-size: 14px;
      font-weight: 700;
      padding: 8px 18px;
      border-radius: 20px;
      margin-bottom: 32px;
    }

    .btn-act-start {
      width: 100%;
      padding: 18px;
      background: linear-gradient(135deg, var(--orange), #FF8C5A);
      color: white;
      font-size: 18px;
      font-weight: 900;
      border: none;
      border-radius: 16px;
      cursor: pointer;
      box-shadow: 0 8px 24px rgba(255, 107, 53, 0.4);
    }

    /* ===== HAZARD MAP SCREEN ===== */
    #screen-hazard {
      background: #F0F9FF;
      min-height: 100vh;
      flex-direction: column;
    }

    .hazard-header {
      background: linear-gradient(135deg, #0369A1, var(--blue));
      padding: 20px 16px;
      color: white;
    }

    .hazard-header h2 {
      font-size: 20px;
      font-weight: 900;
      margin-bottom: 6px;
    }

    .hazard-header p {
      font-size: 13px;
      opacity: 0.8;
      line-height: 1.5;
    }

    .hazard-body {
      padding: 16px;
      flex: 1;
    }

    .hazard-section {
      background: white;
      border-radius: 14px;
      padding: 16px;
      margin-bottom: 16px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    }

    .hazard-section h3 {
      font-size: 15px;
      font-weight: 700;
      color: var(--dark);
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .hazard-section p {
      font-size: 13px;
      color: #6B7280;
      line-height: 1.6;
      margin-bottom: 12px;
    }

    .link-btn {
      display: block;
      width: 100%;
      padding: 14px 16px;
      background: linear-gradient(135deg, var(--blue), #0369A1);
      color: white;
      font-size: 14px;
      font-weight: 700;
      text-decoration: none;
      border-radius: 12px;
      text-align: center;
      margin-bottom: 8px;
      transition: opacity 0.15s;
    }

    .link-btn:active {
      opacity: 0.85;
    }

    .link-btn.green {
      background: linear-gradient(135deg, var(--green), #05b386);
    }

    .link-btn.orange {
      background: linear-gradient(135deg, var(--orange), #FF8C5A);
    }

    .hazard-notice {
      background: rgba(255, 107, 53, 0.1);
      border: 1px solid rgba(255, 107, 53, 0.3);
      border-radius: 12px;
      padding: 14px 16px;
      margin-bottom: 16px;
    }

    .hazard-notice h4 {
      font-size: 14px;
      font-weight: 700;
      color: var(--orange);
      margin-bottom: 6px;
    }

    .hazard-notice p {
      font-size: 13px;
      color: #92400E;
      line-height: 1.6;
      margin: 0;
    }

    .btn-hazard-next {
      width: 100%;
      padding: 18px;
      background: linear-gradient(135deg, #0369A1, var(--blue));
      color: white;
      font-size: 16px;
      font-weight: 900;
      border: none;
      border-radius: 14px;
      cursor: pointer;
      margin-top: 8px;
    }

    /* ===== BCP SCREEN ===== */
    #screen-bcp {
      background: #F0FDF4;
      min-height: 100vh;
      flex-direction: column;
    }

    /* ===== DISASTER APP GUIDE SCREEN ===== */
    #screen-disaster-apps {
      background: #F0F9FF;
      min-height: 100vh;
      flex-direction: column;
    }

    .app-points {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .app-points li {
      font-size: 12px;
      color: #1F2937;
      line-height: 1.7;
      margin-bottom: 2px;
    }

    .app-points li::before {
      content: "ãƒ»";
      color: #2563EB;
      font-weight: 900;
      margin-right: 2px;
    }

    .bcp-header {
      background: linear-gradient(135deg, #065F46, var(--green));
      padding: 20px 16px;
      color: white;
    }

    .bcp-header h2 {
      font-size: 20px;
      font-weight: 900;
      margin-bottom: 6px;
    }

    .bcp-header p {
      font-size: 13px;
      opacity: 0.85;
      line-height: 1.5;
    }

    .bcp-body {
      padding: 16px;
      flex: 1;
    }

    .bcp-category {
      background: white;
      border-radius: 14px;
      margin-bottom: 14px;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    }

    .bcp-cat-header {
      padding: 14px 16px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .bcp-cat-icon {
      width: 44px;
      height: 44px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      flex-shrink: 0;
    }

    .bcp-cat-info {
      flex: 1;
    }

    .bcp-cat-name {
      font-size: 16px;
      font-weight: 700;
      color: var(--dark);
    }

    .bcp-cat-sub {
      font-size: 12px;
      color: var(--gray);
    }

    .bcp-items {
      padding: 0 16px 14px;
    }

    .bcp-item {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 10px 0;
      border-bottom: 1px solid #F3F4F6;
      cursor: pointer;
    }

    .bcp-item:last-child {
      border-bottom: none;
    }

    .bcp-checkbox {
      width: 22px;
      height: 22px;
      border: 2px solid #D1D5DB;
      border-radius: 6px;
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
      margin-top: 1px;
    }

    .bcp-checkbox.checked {
      background: var(--green);
      border-color: var(--green);
    }

    .bcp-checkbox.checked::after {
      content: "âœ“";
      color: white;
      font-size: 13px;
      font-weight: 900;
    }

    .bcp-item-text {
      flex: 1;
    }

    .bcp-item-text strong {
      font-size: 14px;
      font-weight: 700;
      display: block;
      line-height: 1.4;
      color: var(--dark);
    }

    .bcp-item-text span {
      font-size: 12px;
      color: var(--gray);
      line-height: 1.5;
    }

    .bcp-score-area {
      background: white;
      border-radius: 14px;
      padding: 20px;
      margin-bottom: 16px;
      text-align: center;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    }

    .bcp-score-label {
      font-size: 13px;
      color: var(--gray);
      margin-bottom: 8px;
    }

    .bcp-score-num {
      font-size: 48px;
      font-weight: 900;
      color: var(--green);
      line-height: 1;
    }

    .bcp-score-total {
      font-size: 20px;
      color: var(--gray);
    }

    .bcp-score-msg {
      font-size: 14px;
      color: var(--dark);
      margin-top: 10px;
      line-height: 1.5;
    }

    .btn-bcp-next {
      width: 100%;
      padding: 18px;
      background: linear-gradient(135deg, #065F46, var(--green));
      color: white;
      font-size: 16px;
      font-weight: 900;
      border: none;
      border-radius: 14px;
      cursor: pointer;
    }

    /* ===== SUMMARY SCREEN ===== */
    #screen-summary {
      background: linear-gradient(160deg, #1D1D2C, #2D1B4E);
      min-height: 100vh;
      flex-direction: column;
    }

    .summary-header {
      padding: 32px 20px 20px;
      text-align: center;
    }

    .summary-emoji {
      font-size: 48px;
      margin-bottom: 12px;
    }

    .summary-title {
      font-size: 22px;
      font-weight: 900;
      color: white;
      margin-bottom: 8px;
    }

    .summary-sub {
      font-size: 14px;
      color: rgba(255, 255, 255, 0.6);
      line-height: 1.6;
    }

    .summary-body {
      padding: 16px;
      flex: 1;
    }

    .summary-key {
      background: rgba(255, 255, 255, 0.07);
      border: 1px solid rgba(255, 255, 255, 0.12);
      border-radius: 14px;
      padding: 16px;
      margin-bottom: 14px;
      display: flex;
      gap: 14px;
      align-items: flex-start;
    }

    .summary-key-num {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: var(--orange);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      font-weight: 900;
      color: white;
      flex-shrink: 0;
    }

    .summary-key-content {
      flex: 1;
    }

    .summary-key-title {
      font-size: 15px;
      font-weight: 700;
      color: white;
      margin-bottom: 4px;
    }

    .summary-key-text {
      font-size: 13px;
      color: rgba(255, 255, 255, 0.7);
      line-height: 1.6;
    }

    .action-plan-box {
      background: rgba(255, 255, 255, 0.08);
      border: 2px solid rgba(255, 209, 102, 0.4);
      border-radius: 14px;
      padding: 16px;
      margin-bottom: 20px;
    }

    .action-plan-box h3 {
      font-size: 15px;
      font-weight: 700;
      color: var(--yellow);
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .action-input {
      width: 100%;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 10px;
      padding: 12px;
      color: white;
      font-size: 14px;
      font-family: var(--font-main);
      line-height: 1.6;
      resize: none;
      min-height: 100px;
    }

    .action-input::placeholder {
      color: rgba(255, 255, 255, 0.35);
    }

    .action-input:focus {
      outline: none;
      border-color: var(--yellow);
    }

    .action-hint {
      font-size: 11px;
      color: rgba(255, 255, 255, 0.4);
      margin-top: 6px;
      text-align: right;
    }

    .summary-footer {
      padding: 0 16px 32px;
      padding-bottom: max(32px, env(safe-area-inset-bottom));
      text-align: center;
    }

    .summary-footer p {
      font-size: 13px;
      color: rgba(255, 255, 255, 0.5);
      margin-bottom: 20px;
      line-height: 1.6;
    }

    .btn-restart {
      width: 100%;
      padding: 16px;
      background: rgba(255, 255, 255, 0.1);
      color: rgba(255, 255, 255, 0.7);
      font-size: 15px;
      font-weight: 700;
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 14px;
      cursor: pointer;
    }

    /* ===== INTRO BANNER (acts 2/3) ===== */
    .facilitator-banner {
      background: rgba(255, 107, 53, 0.12);
      border: 1px solid rgba(255, 107, 53, 0.3);
      border-radius: 12px;
      padding: 12px 14px;
      margin: 0 12px 12px;
      display: flex;
      gap: 10px;
      align-items: flex-start;
    }

    .facilitator-banner .icon {
      font-size: 18px;
      flex-shrink: 0;
    }

    .facilitator-banner p {
      font-size: 12px;
      color: var(--dark);
      line-height: 1.6;
    }

    .facilitator-banner p strong {
      color: var(--orange);
    }

    /* ===== ANIMATIONS ===== */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(16px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-in {
      animation: fadeInUp 0.35s ease forwards;
    }

    /* ===== UTILITIES ===== */
    .text-center {
      text-align: center;
    }

    .mb-8 {
      margin-bottom: 8px;
    }

    .mt-16 {
      margin-top: 16px;
    }

    /* Added fixes for text visibility */
    .learning-box,
    .result-comment,
    .result-best,
    .best-choice-box {
      background: rgba(255, 255, 255, 0.95) !important;
      color: #1e293b !important;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .learning-box h3,
    .result-comment h3,
    .result-best h3 {
      color: #d97706 !important;
    }

    #break-facilitator-note,
    .facil-note {
      background: rgba(255, 255, 255, 0.95) !important;
      color: #1e293b !important;
      text-shadow: none !important;
      padding: 12px;
      border-radius: 8px;
      margin-top: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
  </style>
</head>

<body>

  <!-- ===== PROGRESS BAR ===== -->
  <div id="progress-bar-wrap">
    <div id="progress-bar" style="width: 0%"></div>
  </div>
  <div class="act-label" id="act-label"></div>
  <button id="menu-toggle-btn" class="menu-toggle-btn" type="button" aria-label="ã‚·ãƒ¼ãƒ³ã‚¸ãƒ£ãƒ³ãƒ—ãƒ¡ãƒ‹ãƒ¥ãƒ¼" aria-expanded="false"
    onclick="toggleJumpMenu()">
    â˜°
  </button>
  <div id="jump-menu-overlay" class="jump-menu-overlay" onclick="closeJumpMenu()"></div>
  <aside id="jump-menu" class="jump-menu" aria-label="ã‚·ãƒ¼ãƒ³ã‚¸ãƒ£ãƒ³ãƒ—ãƒ¡ãƒ‹ãƒ¥ãƒ¼">
    <div class="jump-menu-header">
      <div class="jump-menu-title">ã‚·ãƒ¼ãƒ³ã‚¸ãƒ£ãƒ³ãƒ—</div>
      <button class="jump-menu-close" type="button" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‰ã˜ã‚‹" onclick="closeJumpMenu()">Ã—</button>
    </div>
    <div class="jump-menu-body">
      <div class="jump-group">
        <div class="jump-group-title">ãŠã™ã™ã‚</div>
        <button class="jump-item jump-item-primary" type="button" onclick="jumpToOpeningDoor()">ğŸšª
          å†’é ­ã®æ‰‰ã¸ï¼ˆç¬¬1å¹•é–‹å§‹å‰ï¼‰</button>
      </div>
      <div class="jump-group">
        <div class="jump-group-title">ç« ã®æ‰‰</div>
        <button class="jump-item jump-item-door" type="button" onclick="jumpToActDoor('act1')">ğŸšª ç¬¬1å¹•ã®æ‰‰</button>
        <button class="jump-item jump-item-door" type="button" onclick="jumpToActDoor('act2')">ğŸšª ç¬¬2å¹•ã®æ‰‰</button>
        <button class="jump-item jump-item-door" type="button" onclick="jumpToActDoor('act3')">ğŸšª ç¬¬3å¹•ã®æ‰‰</button>
        <button class="jump-item jump-item-door" type="button" onclick="jumpToActDoor('act4')">ğŸšª ç¬¬4å¹•ã®æ‰‰</button>
        <button class="jump-item jump-item-door" type="button" onclick="jumpToActDoor('act5')">ğŸšª ç¬¬5å¹•ã®æ‰‰</button>
      </div>
      <div class="jump-group">
        <div class="jump-group-title">å…¨ä½“</div>
        <button class="jump-item" type="button" onclick="jumpToScreen('title')">ã‚¿ã‚¤ãƒˆãƒ«</button>
        <button class="jump-item" type="button" onclick="jumpToScreen('news')">ãƒ‹ãƒ¥ãƒ¼ã‚¹</button>
        <button class="jump-item" type="button" onclick="jumpToScreen('summary')">ã¾ã¨ã‚</button>
      </div>
      <div class="jump-group">
        <div class="jump-group-title">ç¬¬1å¹•</div>
        <button class="jump-item" type="button" onclick="jumpToScene('1-1')">ã‚·ãƒ¼ãƒ³1ï¼ˆç™ºç½ï¼ã¾ãšä½•ã‹ã‚‰ï¼Ÿï¼‰</button>
        <button class="jump-item" type="button" onclick="jumpToScene('1-2')">ã‚·ãƒ¼ãƒ³2ï¼ˆå®¶æ—ã¸ã®é€£çµ¡ï¼‰</button>
      </div>
      <div class="jump-group">
        <div class="jump-group-title">ç¬¬2å¹•</div>
        <button class="jump-item" type="button" onclick="jumpToScene('2-1')">ã‚·ãƒ¼ãƒ³3ï¼ˆé€£çµ¡ãƒ„ãƒªãƒ¼ï¼‰</button>
        <button class="jump-item" type="button" onclick="jumpToScene('2-info')">ã‚·ãƒ¼ãƒ³æƒ…å ±åé›†ï¼ˆé˜²ç½ã‚¢ãƒ—ãƒªï¼‰</button>
        <button class="jump-item" type="button" onclick="openDisasterAppsGuide('2-2')">é˜²ç½ã‚¢ãƒ—ãƒªç´¹ä»‹ãƒšãƒ¼ã‚¸</button>
        <button class="jump-item" type="button" onclick="jumpToScene('2-2')">ã‚·ãƒ¼ãƒ³4ï¼ˆé€ææ‚£è€…ã®å¯¾å¿œï¼‰</button>
      </div>
      <div class="jump-group">
        <div class="jump-group-title">ç¬¬3å¹•</div>
        <button class="jump-item" type="button" onclick="jumpToScene('3-1')">ã‚·ãƒ¼ãƒ³5ï¼ˆè¦é…æ…®è€…ã®é¿é›£ï¼‰</button>
        <button class="jump-item" type="button" onclick="jumpToScene('3-2')">ã‚·ãƒ¼ãƒ³6ï¼ˆBCPã®å‚™ãˆï¼‰</button>
      </div>
      <div class="jump-group">
        <div class="jump-group-title">ç¬¬4å¹•</div>
        <button class="jump-item" type="button" onclick="jumpToScene('4-1')">ã‚·ãƒ¼ãƒ³7ï¼ˆã‚¹ã‚¿ãƒƒãƒ•ã¸ã®å£°ã‹ã‘ï¼‰</button>
        <button class="jump-item" type="button" onclick="jumpToScene('4-2')">ã‚·ãƒ¼ãƒ³8ï¼ˆPFAå¯¾å¿œï¼‰</button>
      </div>
      <div class="jump-group">
        <div class="jump-group-title">ç¬¬5å¹•</div>
        <button class="jump-item" type="button" onclick="jumpToScene('5-1')">ã‚·ãƒ¼ãƒ³9ï¼ˆå—æ´åŠ›ï¼‰</button>
      </div>
      <div class="jump-group">
        <div class="jump-group-title">ãã®ä»–</div>
        <button class="jump-item" type="button" onclick="jumpToScreen('hazard')">ãƒã‚¶ãƒ¼ãƒ‰ãƒãƒƒãƒ—</button>
        <button class="jump-item" type="button" onclick="jumpToScreen('bcp')">BCPãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ</button>
      </div>
      <div class="jump-group">
        <div class="jump-group-title">ã‚·ã‚¹ãƒ†ãƒ </div>
        <button class="jump-item" type="button" onclick="reloadPage()">ãƒšãƒ¼ã‚¸æ›´æ–°</button>
      </div>
    </div>
  </aside>

  <!-- ===========================
     SCREEN 1: TITLE
=========================== -->
  <div id="screen-title" class="screen active">
    <div class="title-inner">
      <div class="workshop-label">è‹¥æ‰‹åŒ»å¸«ã®ãŸã‚ã®å®¶åº­åŒ»ç™‚å­¦ å†¬æœŸã‚»ãƒŸãƒŠãƒ¼2026</div>

      <!-- ç”»åƒæŒ¿å…¥ãƒã‚¤ãƒ³ãƒˆï¼šã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ã®ãƒˆãƒƒãƒ—ç”»åƒ -->
      <img src="doctor_cat.png" alt="Doctor Cat"
        style="width: 160px; height: 160px; border-radius: 50%; border: 4px solid white; margin-bottom: 20px; box-shadow: 0 10px 25px rgba(255,107,53,0.4); object-fit: cover; background: white; object-position: center top;">

      <div class="title-main">åœ°éœ‡TRPGã‚·ãƒŠãƒªã‚ª<br>ãƒã‚¿ã‚¿ãƒ“ã‚¯ãƒªãƒ‹ãƒƒã‚¯<br>é™¢é•·ã®ä¸€æ—¥</div>
      <div class="title-sub">ã‚ãªãŸãŒåœ°åŸŸåŒ»ç™‚ã‚’å®ˆã‚‹ãŸã‚ã«<br>ä»Šæ—¥ã§ãã‚‹ã“ã¨ã‚’è€ƒãˆã‚ˆã†</div>

      <div class="char-card">
        <div class="char-card-title">ğŸ­ ã‚ãªãŸã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼</div>
        <div class="char-name">ğŸ¾ ãƒã‚³ãƒŸãƒ¤ ãƒ‹ãƒ£ãƒ³ã‚¿</div>
        <div class="char-name-sub">çŒ«å±±çœŒã¾ãŸãŸã³å¸‚ã€€ãƒã‚¿ã‚¿ãƒ“ã‚¯ãƒªãƒ‹ãƒƒã‚¯ é™¢é•·</div>
        <div class="char-desc">
          2025å¹´4æœˆã«é–‹æ¥­ã—ãŸç„¡åºŠè¨ºç™‚æ‰€åŒ»å¸«ï¼ˆåŒ»å¸«1åã€äº‹å‹™2åã€çœ‹è­·å¸«2åï¼‰ã€‚
          æœˆæ°´é‡‘ã¯åˆå‰å¾€è¨ºã€ãã‚Œä»¥å¤–ã¯çµ‚æ—¥å¤–æ¥ã‚’ã“ãªã™å®¶åº­åŒ»ã€‚
          ä»Šæ—¥ã¯åœ¨å®…è¨ºç™‚ã®å¸°ã‚Šé“ã€‚åˆå‰10æ™‚45åˆ†ã€‚
        </div>
      </div>

      <div class="time-badge">
        <div class="icon">ğŸš¨</div>
        <div class="text">
          <strong>ç·Šæ€¥é€Ÿå ±</strong><br>
          2026å¹´2æœˆ23æ—¥ï¼ˆæœˆï¼‰10:45<br>
          ã­ã“ã‚„ã¾çœŒã¾ãŸãŸã³å¸‚ã§éœ‡åº¦6å¼·
        </div>
      </div>

      <button class="btn-start" onclick="showScreen('news')">
        ã‚·ãƒŠãƒªã‚ªã‚’é–‹å§‹ã™ã‚‹ â†’
      </button>
    </div>
  </div>

  <!-- ===========================
     SCREEN 2: NEWS
=========================== -->
  <div id="screen-news" class="screen">
    <div class="news-inner">

      <!-- ç”»åƒæŒ¿å…¥ãƒã‚¤ãƒ³ãƒˆï¼šãƒ‹ãƒ¥ãƒ¼ã‚¹ç”»é¢ï¼ˆè¡—ã®è¢«å®³ãªã©ï¼‰ -->
      <!-- <div class="image-placeholder" style="width: 100%; height: 160px; background: rgba(255,255,255,0.1); border: 2px dashed rgba(255,255,255,0.3); border-radius: 12px; margin-bottom: 20px; display: flex; align-items: center; justify-content: center; color: rgba(255,255,255,0.6); font-size: 12px;">ãƒ‹ãƒ¥ãƒ¼ã‚¹æ˜ åƒãƒ»è¡—ã®è¢«å®³ã®ç”»åƒ</div> -->

      <div class="tv-frame">
        <div class="tv-header">
          <div class="tv-channel">ğŸ“º ãƒ‹ãƒ£ãƒ³ã‚¿ãƒ“æ”¾é€ NTB</div>
          <div class="tv-live">â— LIVE</div>
        </div>
        <div class="tv-screen">
          <div class="tv-breaking">âš¡ ç·Šæ€¥é€Ÿå ±</div>
          <div class="tv-headline">ã­ã“ã‚„ã¾çœŒã¾ãŸãŸã³å¸‚<br>éœ‡åº¦6å¼·ã®åœ°éœ‡ç™ºç”Ÿ</div>
          <div class="tv-body">
            æœ¬æ—¥10æ™‚45åˆ†ã”ã‚ã€ã­ã“ã‚„ã¾çœŒã¾ãŸãŸã³å¸‚ã‚’éœ‡æºã¨ã™ã‚‹
            éœ‡åº¦6å¼·ã®åœ°éœ‡ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚
            å¸‚å†…å„æ‰€ã§å»ºç‰©å€’å£Šç­‰ã®ç”šå¤§ãªè¢«å®³ãŒç¢ºèªã•ã‚Œã€
            ã¾ãŸãŸã³ä¸­å¤®ç—…é™¢ã‚’å«ã‚€ä¸»è¦åŒ»ç™‚æ©Ÿé–¢ãŒè¢«ç½ã—å—ã‘å…¥ã‚Œå›°é›£ãªçŠ¶æ³ã§ã™ã€‚
            ç¾åœ¨ã€å¸‚å½¹æ‰€ãŠã‚ˆã³ä¿å¥æ‰€ã«ç½å®³å¯¾ç­–æœ¬éƒ¨ãƒ»ä¿å¥åŒ»ç™‚ç¦ç¥‰èª¿æ•´æœ¬éƒ¨ãŒç«‹ã¡ä¸ŠãŒã‚Šæƒ…å ±åé›†ã‚’æ€¥ã„ã§ã„ã¾ã™ã€‚
          </div>
        </div>
        <div class="tv-ticker">
          <div class="tv-ticker-inner">
            ã€é€Ÿå ±ã€‘ã¾ãŸãŸã³å¸‚ã§éœ‡åº¦6å¼· ï¼ ä¸­å¤®ç—…é™¢å«ã‚€ä¸»è¦åŒ»ç™‚æ©Ÿé–¢ãŒè¢«ç½ ï¼ é“è·¯å¯¸æ–­ãƒ»é€šä¿¡éšœå®³ç™ºç”Ÿä¸­ ï¼ å¸‚å½¹æ‰€ãƒ»ä¿å¥æ‰€ã«èª¿æ•´æœ¬éƒ¨ãŒç«‹ã¡ä¸Šã’ ï¼
          </div>
        </div>
      </div>

      <div class="news-detail">
        <h3>ğŸš— ã‚ãªãŸã®çŠ¶æ³</h3>
        <ul>
          <li>åˆå‰ä¸­ã®åœ¨å®…è¨ºç™‚ã‚’çµ‚ãˆã€ã‚¯ãƒªãƒ‹ãƒƒã‚¯ã¸ã®å¸°ã‚Šé“</li>
          <li>çªç„¶ã®å¼·ã„æºã‚Œã€‚ç›´ã¡ã«è»Šã‚’è·¯è‚©ã«åœè»Š</li>
          <li>å‰æ–¹ã®é“è·¯ãŒå¤§ããé™¥æ²¡ã—ã¦ã„ã‚‹ã®ã‚’ç›®æ’ƒ</li>
        </ul>
      </div>

      <button class="btn-news-next" onclick="startAct1()">
        ç¬¬1å¹•ã¸é€²ã‚€ â†’
      </button>
    </div>
  </div>

  <!-- ===========================
     SCREEN 3: CHAT (LINE-style)
=========================== -->
  <div id="screen-chat" class="screen">
    <div class="chat-header">
      <div class="chat-avatar">ğŸ¾</div>
      <div class="chat-header-info">
        <div class="chat-header-name">ãƒã‚¿ã‚¿ãƒ“ã‚¯ãƒªãƒ‹ãƒƒã‚¯é™¢é•·ã®ä¸€æ—¥</div>
        <div class="chat-header-sub" id="chat-header-sub">ç¬¬1å¹•ï¼šç™ºç½ç›´å¾Œã®åˆå‹•</div>
      </div>
    </div>

    <div class="chat-body" id="chat-body">
      <!-- Messages injected by JS -->
    </div>

    <div class="choice-area" id="choice-area" style="display:none">
      <div class="choice-label" id="choice-label">ã©ã†ã—ã¾ã™ã‹ï¼Ÿ</div>
      <div id="choice-buttons"></div>
    </div>
  </div>

  <!-- ===========================
     SCREEN 4: RESULT
=========================== -->
  <div id="screen-result" class="screen">
    <div class="result-header">
      <div class="result-badge" id="result-badge"></div>
      <div class="result-title" id="result-title"></div>
    </div>
    <div class="result-body" id="result-body"></div>
  </div>

  <!-- ===========================
     SCREEN 5: ACT BREAK
=========================== -->
  <div id="screen-act-break" class="screen">
    <div class="act-break-inner">
      <div class="act-number" id="break-act-number"></div>
      <div class="act-title" id="break-act-title"></div>
      <div class="act-goal">
        <div class="act-goal-label">ã“ã®Actã®ã­ã‚‰ã„</div>
        <div class="act-goal-text" id="break-act-goal"></div>
      </div>
      <div class="act-time-badge">
        <span>â±</span>
        <span id="break-act-time"></span>
      </div>
      <div
        style="margin-bottom:16px; background:rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.1); border-radius:14px; padding:14px 16px; text-align:left;">
        <div style="font-size:11px; color:#FFD166; font-weight:700; margin-bottom:6px;">ğŸ™ ãƒ•ã‚¡ã‚·ãƒªãƒ†ãƒ¼ã‚¿ãƒ¼ã‹ã‚‰</div>
        <div style="font-size:13px; color:rgba(255,255,255,0.8); line-height:1.7;" id="break-facilitator-note"></div>
      </div>
      <button class="btn-act-start" id="btn-act-start">é–‹å§‹ã™ã‚‹ â†’</button>
    </div>
  </div>

  <!-- ===========================
     SCREEN 6: HAZARD MAP
=========================== -->
  <div id="screen-hazard" class="screen">
    <div class="hazard-header">
      <h2>ğŸ—º ãƒã‚¶ãƒ¼ãƒ‰ãƒãƒƒãƒ—ç¢ºèª</h2>
      <p>ã¾ãŸãŸã³å¸‚ã§ã®ä½“é¨“ã‚’ã‚‚ã¨ã«ã€ã‚ãªãŸã®åœ°åŸŸã®ãƒã‚¶ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã‚‚ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚</p>
    </div>
    <div class="hazard-body">
      <div class="hazard-notice">
        <h4>ğŸ“ ã¾ãŸãŸã³å¸‚ã‚·ãƒŠãƒªã‚ªã‹ã‚‰å­¦ã‚“ã ã“ã¨</h4>
        <p>
          éœ‡åº¦6å¼·ã§ã¯é“è·¯å¯¸æ–­ãƒ»å»ºç‰©è¢«å®³ãƒ»é€šä¿¡éšœå®³ãŒåŒæ™‚ã«ç™ºç”Ÿã—ã¾ã™ã€‚
          å¹³æ™‚ã«ã€Œã©ã“ã«ä½•ãŒã‚ã‚‹ã‹ã€ã‚’çŸ¥ã£ã¦ãŠãã“ã¨ãŒã€ç½å®³æ™‚ã®è¡Œå‹•ã‚’å¤§ããå¤‰ãˆã¾ã™ã€‚
        </p>
      </div>

      <div class="hazard-section">
        <h3>ğŸŒ å…¨å›½ãƒã‚¶ãƒ¼ãƒ‰ãƒãƒƒãƒ—</h3>
        <p>
          å›½åœŸåœ°ç†é™¢ã®ã€Œé‡ã­ã‚‹ãƒã‚¶ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã€ã§æ´ªæ°´ãƒ»åœŸç ‚ãƒ»åœ°éœ‡ãƒ»æ´¥æ³¢ãªã©
          è¤‡æ•°ã®ãƒªã‚¹ã‚¯ã‚’é‡ã­ã¦ç¢ºèªã§ãã¾ã™ã€‚
        </p>
        <a href="https://disaportal.gsi.go.jp/" target="_blank" class="link-btn">
          ğŸ—¾ é‡ã­ã‚‹ãƒã‚¶ãƒ¼ãƒ‰ãƒãƒƒãƒ—ï¼ˆå›½åœŸåœ°ç†é™¢ï¼‰
        </a>
      </div>


      <div
        style="background:white; border-radius:14px; padding:16px; margin-bottom:16px; box-shadow:0 2px 8px rgba(0,0,0,0.06);">
        <h3 style="font-size:15px; font-weight:700; color:var(--dark); margin-bottom:12px;">âœï¸ å€‹äººãƒ¯ãƒ¼ã‚¯</h3>
        <p style="font-size:14px; color:#374151; line-height:1.8; margin-bottom:12px;">
          ä¸Šã®ãƒªãƒ³ã‚¯ã‚’é–‹ã„ã¦ã€ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼š
        </p>
        <div style="background:var(--light-gray); border-radius:10px; padding:14px;">
          <div style="font-size:13px; color:var(--dark); line-height:2;">
            â˜ ã‚ãªãŸã®ã‚¯ãƒªãƒ‹ãƒƒã‚¯ï¼ˆã¾ãŸã¯è·å ´ï¼‰ã®ãƒã‚¶ãƒ¼ãƒ‰ãƒªã‚¹ã‚¯<br>
            â˜ è‡ªå®…ã®ãƒã‚¶ãƒ¼ãƒ‰ãƒªã‚¹ã‚¯<br>
            â˜ æ‹…å½“ã—ã¦ã„ã‚‹è¦é…æ…®è€…ã®å±…ä½ã‚¨ãƒªã‚¢<br>
            â˜ è¿‘éš£ã®é¿é›£æ‰€ãƒ»é¿é›£å ´æ‰€ã®ä½ç½®
          </div>
        </div>
      </div>

      <button class="btn-hazard-next" onclick="showBCP()">
        BCPãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã¸ â†’
      </button>
    </div>
  </div>

  <!-- ===========================
     SCREEN 7: DISASTER APP GUIDE
=========================== -->
  <div id="screen-disaster-apps" class="screen">
    <div class="hazard-header">
      <h2>ğŸ“± é˜²ç½ã‚¢ãƒ—ãƒªç´¹ä»‹</h2>
      <p>æ¬¡ã®ã‚·ãƒ¼ãƒ³ã«é€²ã‚€å‰ã«ã€ç½å®³æ™‚ã«å½¹ç«‹ã¤ã‚¢ãƒ—ãƒªã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚</p>
    </div>
    <div class="hazard-body">
      <div class="hazard-notice">
        ç½å®³æ™‚ã¯é›»è©±ãƒ»é€šå¸¸ã‚µã‚¤ãƒˆãŒã¤ãªãŒã‚Šã«ãããªã‚Šã¾ã™ã€‚<br>
        å¹³æ™‚ã‹ã‚‰ã€Œé€Ÿå ±æ€§ã€ã¨ã€Œå…¬å¼æ€§ã€ã®é«˜ã„ã‚¢ãƒ—ãƒªã‚’æº–å‚™ã—ã¦ãŠãã¨ã€åˆå‹•åˆ¤æ–­ãŒé€Ÿããªã‚Šã¾ã™ã€‚
      </div>

      <div class="hazard-section">
        <h3>ğŸ“¡ NHKãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ»é˜²ç½</h3>
        <p>åœ°éœ‡ãƒ»æ´¥æ³¢ãƒ»æ°—è±¡è­¦å ±ãªã©ã‚’é€Ÿå ±ã§ç¢ºèªã—ã‚„ã™ã„ã‚¢ãƒ—ãƒªã§ã™ã€‚</p>
        <ul class="app-points">
          <li>åœ°åŸŸè¨­å®šã§ç™»éŒ²åœ°åŸŸã®é˜²ç½æƒ…å ±ã‚’å—ã‘å–ã‚Œã‚‹</li>
          <li>ç½å®³é–¢é€£ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’ã¾ã¨ã‚ã¦ç¢ºèªã—ã‚„ã™ã„</li>
          <li>åœ°å›³ã¨ã‚ã‚ã›ã¦ç¾åœ¨ã®çŠ¶æ³ã‚’æŠŠæ¡ã—ã‚„ã™ã„</li>
          <li>å…¬å¼ãƒ¡ãƒ‡ã‚£ã‚¢æƒ…å ±ã¨ã—ã¦åˆ¤æ–­ææ–™ã«ä½¿ãˆã‚‹</li>
        </ul>
        <a href="https://www.nhk.or.jp/nhkone/service/app/news_bousai/" target="_blank" rel="noopener noreferrer"
          class="link-btn">
          ğŸ”— NHKãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ»é˜²ç½ï¼ˆå…¬å¼ï¼‰ã‚’é–‹ã
        </a>
      </div>

      <div class="hazard-section">
        <h3>ğŸ“¡ Yahoo!é˜²ç½é€Ÿå ±</h3>
        <p>åœ°éœ‡ãƒ»å¤§é›¨ãƒ»é¿é›£æƒ…å ±ãªã©ã€å¤šãƒã‚¶ãƒ¼ãƒ‰ã®é€šçŸ¥ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚</p>
        <ul class="app-points">
          <li>ç¾åœ¨åœ°ã‚„ç™»éŒ²åœ°åŸŸã”ã¨ã«é€šçŸ¥ã‚’å—ã‘å–ã‚Œã‚‹</li>
          <li>é¿é›£æƒ…å ±ã‚„è­¦å ±ã‚’ã‚¿ã‚¤ãƒ ãƒªãƒ¼ã«ç¢ºèªã§ãã‚‹</li>
          <li>å®¶æ—ã®åœ°åŸŸã‚’ç™»éŒ²ã—ã¦è¦‹å®ˆã‚Šã«ã‚‚ä½¿ãˆã‚‹</li>
        </ul>
        <a href="https://emg.yahoo.co.jp/" target="_blank" rel="noopener noreferrer" class="link-btn orange">
          ğŸ”— Yahoo!é˜²ç½é€Ÿå ±ï¼ˆå…¬å¼ï¼‰ã‚’é–‹ã
        </a>
      </div>

      <div class="hazard-notice">
        ä½¿ã„åˆ†ã‘ã®ç›®å®‰ï¼š<br>
        ã©ã¡ã‚‰ã‹ä¸€æ–¹ã ã‘ã§ã‚‚ååˆ†ã«æœ‰åŠ¹ã§ã™ã€‚ã¾ãšã¯ä½¿ã„æ…£ã‚ŒãŸ1ã¤ã‚’é€šçŸ¥ONã§é‹ç”¨ã—ã¾ã—ã‚‡ã†ã€‚<br>
        ä½™è£•ãŒã‚ã‚Œã°ã€NHKãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ»é˜²ç½ã§å…¨ä½“æƒ…å ±ã€Yahoo!é˜²ç½é€Ÿå ±ã§åœ°åŸŸåˆ¥é€šçŸ¥ã‚’è£œå®Œã™ã‚‹ã¨å–ã‚Šã“ã¼ã—ã‚’æ¸›ã‚‰ã›ã¾ã™ã€‚
      </div>

      <button class="btn-hazard-next" onclick="continueFromDisasterAppsGuide()">æ¬¡ã®ã‚·ãƒ¼ãƒ³ã¸é€²ã‚€ â†’</button>
    </div>
  </div>

  <!-- ===========================
     SCREEN 8: BCP CHECKLIST
=========================== -->
  <div id="screen-bcp" class="screen">
    <div class="bcp-header">
      <h2>ğŸ“‹ BCPãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ</h2>
      <p>ã‚ãªãŸã®ã‚¯ãƒªãƒ‹ãƒƒã‚¯ã¯ç½å®³ã«å‚™ãˆã¦ã„ã¾ã™ã‹ï¼Ÿ4ã¤ã®è¦–ç‚¹ã§ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚</p>
    </div>
    <div class="bcp-body" id="bcp-body">
      <!-- Injected by JS -->
    </div>
  </div>

  <!-- ===========================
     SCREEN 9: SUMMARY
=========================== -->
  <div id="screen-summary" class="screen">
    <div class="summary-header">
      <div class="summary-emoji">ğŸ‰</div>
      <div class="summary-title">ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—å®Œäº†ï¼</div>
      <div class="summary-sub">3ã¤ã®å¹•ã‚’é€šã˜ã¦ã€åœ°åŸŸåŒ»ç™‚ã‚’å®ˆã‚‹ãŸã‚ã®<br>æ°—ã¥ãã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸ</div>
    </div>
    <div class="summary-body">
      <div class="summary-key">
        <div class="summary-key-num">1</div>
        <div class="summary-key-content">
          <div class="summary-key-title">è‡ªåˆ† â†’ å®¶æ— â†’ ä»•äº‹ã®é †ç•ª</div>
          <div class="summary-key-text">
            ç™ºç½æ™‚ã¯ã€Œè‡ªåˆ†ã®å®‰å…¨ç¢ºèªã€ãŒæœ€åˆã€‚
            è‡ªåˆ†ãŒå‹•ã‘ãªã‘ã‚Œã°èª°ã‚‚åŠ©ã‘ã‚‰ã‚Œã¾ã›ã‚“ã€‚
            è‡ªåˆ†â†’å®¶æ—â†’ä»•äº‹ã®å„ªå…ˆé †ä½ã‚’äº‹å‰ã«æ±ºã‚ã¦ãŠãã¾ã—ã‚‡ã†ã€‚
          </div>
        </div>
      </div>
      <div class="summary-key">
        <div class="summary-key-num">2</div>
        <div class="summary-key-content">
          <div class="summary-key-title">ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ‰‹æ®µã¯2ã¤ä»¥ä¸Šç¢ºä¿</div>
          <div class="summary-key-text">
            å¤§è¦æ¨¡ç½å®³ã§ã¯é›»è©±å›ç·šãŒè¼»è¼³ã—ã¾ã™ã€‚
            LINEãƒ»SMSãƒ»é€£çµ¡ãƒ„ãƒªãƒ¼ãƒ»ç„¡ç·šãªã©ã€
            è¤‡æ•°ã®æ‰‹æ®µã‚’å¹³æ™‚ã‹ã‚‰æ•´ãˆã¦ãŠãã“ã¨ãŒä¸å¯æ¬ ã§ã™ã€‚
          </div>
        </div>
      </div>
      <div class="summary-key">
        <div class="summary-key-num">3</div>
        <div class="summary-key-content">
          <div class="summary-key-title">å¹³æ™‚ã®å¯¾è©±ãŒBCPã®åŸºæœ¬</div>
          <div class="summary-key-text">
            è¦é…æ…®è€…ã¨ã®ã€Œã©ã“ã«é€ƒã’ã‚‹ã‹ã€ã®å¯¾è©±ã€
            æ£šã®å›ºå®šãƒ»è€éœ‡è£œå¼·ã€BCPã®æ•´å‚™â€”â€”
            ã“ã‚Œã‚‰ã¯ã€Œç½å®³å¯¾ç­–ã€ã§ã‚ã‚‹ã¨åŒæ™‚ã«ã€Œæ—¥å¸¸ã®åŒ»ç™‚ã®è³ªã€å‘ä¸Šã§ã™ã€‚
          </div>
        </div>
      </div>

      <div class="action-plan-box">
        <h3>âœï¸ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°</h3>
        <div style="font-size:13px; color:rgba(255,255,255,0.7); margin-bottom:10px; line-height:1.6;">
          ã“ã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã‚’å—ã‘ã¦ã€æ˜æ—¥ã‹ã‚‰å®Ÿè·µã§ãã‚‹ã“ã¨ã‚’æ›¸ã„ã¦ã¿ã¾ã—ã‚‡ã†ï¼š
        </div>
        <textarea class="action-input" id="action-input"
          placeholder="ä¾‹ï¼šã‚¹ã‚¿ãƒƒãƒ•ã¨é€£çµ¡ãƒ„ãƒªãƒ¼ã‚’ä½œæˆã™ã‚‹&#10;ä¾‹ï¼šæ‚£è€…Aã•ã‚“ã¨é¿é›£å ´æ‰€ã‚’è©±ã—åˆã†&#10;ä¾‹ï¼šæ£šã®å›ºå®šã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹"></textarea>
        <div class="action-hint">ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã§ä¿å­˜ã§ãã¾ã™ ğŸ“¸</div>
      </div>
      <div class="action-plan-box"
        style="margin-top:20px; background:rgba(45,212,191,0.1); border-color:var(--secondary);">
        <h3>ğŸ“˜ å‚è€ƒãƒ»äº‹ä¾‹ç´¹ä»‹</h3>
        <p style="font-size:13px; color:rgba(255,255,255,0.8); line-height:1.6; margin-bottom:12px;">
          å®Ÿéš›ã®ç½å®³æ”¯æ´æ´»å‹•ã«ãŠã„ã¦ã€åœ°åŸŸã®ãƒ—ãƒ©ã‚¤ãƒãƒªãƒ»ã‚±ã‚¢ãŒã©ã®ã‚ˆã†ã«å¤–éƒ¨æ”¯æ´ã¨é€£æºã—å—æ´åŠ›ã‚’ç™ºæ®ã—ãŸã‹ã€‚ä»¥ä¸‹ã®å ±å‘Šæ›¸ã‚‚ãœã²ã”ä¸€èª­ãã ã•ã„ã€‚
        </p>
        <a href="https://www.primarycare-japan.com/news-detail.php?nid=1197" target="_blank" rel="noopener noreferrer" class="btn-continue"
          style="background:var(--secondary); text-align:center; padding:12px; display:block; text-decoration:none; font-size:14px;">
          ç½å®³æ”¯æ´å ±å‘Šè¨˜äº‹ï¼ˆPrimary Care Assistance Teamï¼‰
        </a>
        <a href="https://www.primarycare-japan.com/news-detail.php?nid=119" target="_blank" rel="noopener noreferrer" class="btn-continue"
          style="margin-top:10px; background:rgba(45,212,191,0.25); text-align:center; padding:12px; display:block; text-decoration:none; font-size:14px;">
          é–¢é€£è¨˜äº‹ï¼ˆPrimary Care Assistance Teamï¼‰
        </a>
      </div>
    </div>

    <div class="summary-footer">
      <p>
        è‹¥æ‰‹åŒ»å¸«ã®ãŸã‚ã®å®¶åº­åŒ»ç™‚å­¦ å†¬æœŸã‚»ãƒŸãƒŠãƒ¼2026<br>
        åœ°åŸŸåŒ»ç™‚ã‚’å®ˆã‚‹ãŸã‚ã«ã€ä»Šæ—¥ã‹ã‚‰ä¸€æ­©è¸ã¿å‡ºã—ã¾ã—ã‚‡ã† ğŸ¾
      </p>
      <button class="btn-restart" onclick="restart()">
        ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤ã™ã‚‹
      </button>
    </div>
  </div>

  <script>
    // ===========================
    // DATA: STORY SCENES
    // ===========================

    const STORY = {
      act1: {
        label: "ç¬¬1å¹•",
        title: "ç™ºç½ï¼ã¾ãšä½•ã‹ã‚‰ï¼Ÿ",
        goal: "è‡ªåˆ†â†’å®¶æ—â†’ä»•äº‹ã®å®‰å…¨ç¢ºèªã®é †åºã‚’ä½“æ„Ÿã™ã‚‹ã€‚ã€Œå½“ãŸã‚Šå‰ã€ã‚’æ±ºæ–­ã™ã‚‹é›£ã—ã•ã‚’çŸ¥ã‚‹ã€‚",
        time: "ç´„10åˆ†",
        facilNote: "ã¾ãšã‚°ãƒ«ãƒ¼ãƒ—ã§ã€Œã‚ãªãŸã¯ã©ã†è¡Œå‹•ã—ã¾ã™ã‹ï¼Ÿã€ã¨è©±ã—åˆã£ã¦ã‹ã‚‰é¸æŠè‚¢ã‚’é¸ã³ã¾ã—ã‚‡ã†ã€‚æ­£è§£æ¢ã—ã§ã¯ãªãã€ã¿ã‚“ãªã®æœ€åˆã®åˆ¤æ–­ã‚’å…±æœ‰ã™ã‚‹ã“ã¨ãŒå¤§åˆ‡ã§ã™ã€‚",
        headerSub: "ç¬¬1å¹•ï¼šç™ºç½ç›´å¾Œã®åˆå‹•",
        scenes: [
          {
            id: "1-1",
            label: "ç¬¬1å¹• ã‚·ãƒ¼ãƒ³1",
            messages: [
              { type: "narrator", text: "åœ¨å®…è¨ºç™‚ã®å¸°ã‚Šé“ã€‚åˆå‰10æ™‚45åˆ†ã€‚" },
              { type: "narrator", text: "çªç„¶ã€è»ŠãŒå¤§ããæºã‚ŒãŸã€‚ç·Šæ€¥é€Ÿå ±ãŒã‘ãŸãŸã¾ã—ãé³´ã‚ŠéŸ¿ãã€‚" },
              { type: "system", text: "âš¡ï¸ ç·Šæ€¥åœ°éœ‡é€Ÿå ±\nãŸã ã„ã¾å¼·ã„åœ°éœ‡ãŒç™ºç”Ÿã—ã¦ã„ã¾ã™ã€‚æºã‚Œã«è­¦æˆ’ã—ã¦ãã ã•ã„ã€‚" },
              { type: "narrator", text: "æºã‚ŒãŒåã¾ã£ãŸã€‚å‰ã‚’è¦‹ã‚‹ã¨ã€é“è·¯ã®ä¸€éƒ¨ãŒå¤§ããã‚ãã‚Œã‚ãŒã£ã¦ã„ãŸã€‚" },

              // <!-- ç”»åƒæŒ¿å…¥ãƒã‚¤ãƒ³ãƒˆï¼šé™¥æ²¡ã—ãŸé“è·¯ã®ç”»åƒ -->
              // { type: "system", text: `<div class="image-placeholder" style="width: 100%; height: 120px; background: rgba(0,0,0,0.1); border: 2px dashed rgba(0,0,0,0.3); border-radius: 8px; margin: 8px 0; display: flex; align-items: center; justify-content: center; color: #666; font-size: 11px;">é™¥æ²¡ã—ãŸé“è·¯ã®ç”»åƒ</div>` },

              { type: "nanta", text: "ã†ã‚ã£â€¦â€¦ï¼ æ­¢ã¾ã‚ŒãŸã€‚é“ãŒâ€¦â€¦é™¥æ²¡ã—ã¦ã„ã‚‹ã€‚" },
              { type: "narrator", text: "ä»–ã«ã‚‚æ•°å°ã®è»ŠãŒè·¯è‚©ã«æ­¢ã¾ã£ã¦ã„ã‚‹ã€‚é ãã‹ã‚‰ç«ç½ã‚‰ã—ãç…™ã‚‚è¦‹ãˆã‚‹ã€‚" }
            ],
            question: "ã‚ãªãŸã¯ã¾ãšä½•ã‚’ã—ã¾ã™ã‹ï¼Ÿ",
            choices: [
              {
                letter: "A",
                text: "ã™ãã«ã‚¯ãƒªãƒ‹ãƒƒã‚¯ã«é›»è©±ã—ã¦ã‚¹ã‚¿ãƒƒãƒ•ã¨æ‚£è€…ã®çŠ¶æ³ã‚’ç¢ºèªã™ã‚‹",
                quality: "rethink",
                comment: "åŒ»ç™‚è€…ã¨ã—ã¦ã®è²¬ä»»æ„Ÿã‹ã‚‰ã‚¯ãƒªãƒ‹ãƒƒã‚¯ã‚’å¿ƒé…ã™ã‚‹æ°—æŒã¡ã¯ã‚ã‹ã‚Šã¾ã™ãŒã€ã¾ãšè‡ªåˆ†ã®å®‰å…¨ç¢ºèªãŒå…ˆã§ã™ã€‚è‡ªåˆ†ãŒè² å‚·ã—ã¦ã„ã¦ã¯è¨ºç™‚ã©ã“ã‚ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚",
                bestComment: "B â†’ æ”¯æ´è€…ã¨ãªã‚‹ãŸã‚ã«ã¯ã€ã¾ãšè‡ªåˆ†è‡ªèº«ã®å®‰å…¨ç¢ºä¿ï¼ˆDo no harmã®å‰æï¼‰ãŒå¿…è¦ã§ã™"
              },
              {
                letter: "B",
                text: "è»Šã‚’å®‰å…¨ãªå ´æ‰€ï¼ˆåºƒå ´ãªã©ï¼‰ã«æ­¢ã‚ç›´ã—ã€è‡ªåˆ†ã®èº«ä½“çŠ¶æ³ã¨å‘¨å›²ã®å±é™ºã‚’ç¢ºèªã™ã‚‹",
                quality: "great",
                comment: "æ­£ã—ã„å„ªå…ˆé †ä½ã§ã™ï¼æ”¯æ´ã‚’è¡Œã†ãŸã‚ã®å¤§å‰æã¯ã€Œæ”¯æ´è€…è‡ªèº«ãŒå®‰å…¨ã§ã‚ã‚‹ã“ã¨ã€ã§ã™ã€‚ã¾ãšã”è‡ªèº«ã®ç„¡äº‹ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã‹ã‚‰å§‹ã‚ã¾ã—ã‚‡ã†ã€‚",
                bestComment: null
              },
              {
                letter: "C",
                text: "åœ¨å®…è¨ºç™‚ã§å…ˆã»ã©è¨ªå•ã—ãŸæ‚£è€…å®…ã«å¼•ãè¿”ã™",
                quality: "rethink",
                comment: "æ‚£è€…ã•ã‚“ã‚’å¿ƒé…ã™ã‚‹æ°—æŒã¡ã¯å¤§åˆ‡ã§ã™ãŒã€é“è·¯ãŒé™¥æ²¡ã—ã‚¬ã‚¹æ¼ã‚Œç­‰ã®å±é™ºãªçŠ¶æ³ä¸‹ã§ã¯ã€ã¾ãšè‡ªåˆ†ã®å®‰å…¨ç¢ºèªãŒå¿…è¦ã§ã™ã€‚äºŒæ¬¡ç½å®³ã«å·»ãè¾¼ã¾ã‚Œã‚‹æã‚ŒãŒã‚ã‚Šã¾ã™ã€‚",
                bestComment: "B â†’ ã¾ãšè‡ªåˆ†ã®èº«ä½“ãƒ»ç’°å¢ƒã®å®‰å…¨ç¢ºèª"
              }
            ],
            nextScene: "1-2"
          },
          {
            id: "1-2",
            label: "ç¬¬1å¹• ã‚·ãƒ¼ãƒ³2",
            preMessages: [
              { type: "narrator", text: "è»Šã‚’è·¯è‚©ã«æ­¢ã‚ã€èº«ä½“ã‚’ç¢ºèªã—ãŸã€‚æ‰“æ’²ã¯ãªã„ã€‚ç„¡äº‹ã ã€‚" },
              { type: "nanta", text: "ã‚ˆã—â€¦â€¦å‹•ã‘ã‚‹ã€‚æ¬¡ã¯å®¶æ—ã«é€£çµ¡ã—ãªã„ã¨ã€‚" },
              { type: "narrator", text: "ã‚¹ãƒãƒ›ã‚’å–ã‚Šå‡ºã™ã€‚ã—ã‹ã—ã€ç™ºä¿¡éŸ³ãŒã—ãªã„ã€‚é›»è©±å›ç·šãŒæ··é›‘ã—ã¦ã„ã‚‹ã€‚" },
              { type: "system", text: "ğŸ“µ é€šè©±ãŒã¤ãªãŒã‚Šã«ãã„çŠ¶æ³ã§ã™ã€‚\nå›ç·šãŒé›†ä¸­ã—ã¦ã„ã¾ã™ã€‚" }
            ],
            question: "å®¶æ—ã¸ã®é€£çµ¡æ‰‹æ®µã¯ã©ã‚Œã«ã—ã¾ã™ã‹ï¼Ÿ",
            choices: [
              {
                letter: "A",
                text: "å…¬è¡†é›»è©±ã‚’æ¢ã™ã€‚å›ºå®šé›»è©±ãªã‚‰ã¤ãªãŒã‚‹ã‹ã‚‚ã—ã‚Œãªã„",
                quality: "ok",
                comment: "å…¬è¡†é›»è©±ã¯ç½å®³æ™‚ã«ç„¡æ–™é–‹æ”¾ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ãŒã€å ´æ‰€ã‚’æ¢ã™æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚ã¾ãšã¯æ‰‹å…ƒã®æ‰‹æ®µã‚’è©¦ã—ã¾ã—ã‚‡ã†ã€‚",
                bestComment: "B â†’ SNSã‚„LINEã®å®‰å¦ç¢ºèªæ©Ÿèƒ½ã¯å›ç·šãŒå°‘ãªãã¦ã™ã‚€ãŸã‚æœ‰åŠ¹"
              },
              {
                letter: "B",
                text: "LINEã®å®‰å¦ç¢ºèªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚„SNSã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ©Ÿèƒ½ã‚’ä½¿ã†",
                quality: "great",
                comment: "æ­£è§£ï¼éŸ³å£°é€šè©±ã¨æ¯”ã¹ã¦ãƒ‡ãƒ¼ã‚¿é€šä¿¡ã¯å°‘ãªã„å¸¯åŸŸã§å‹•ããŸã‚ã€å›ç·šæ··é›‘æ™‚ã§ã‚‚å±Šãã‚„ã™ã„ã€‚LINEã®å®‰å¦ç¢ºèªæ©Ÿèƒ½ã¯ç‰¹ã«æœ‰åŠ¹ã§ã™ã€‚",
                bestComment: null
              },
              {
                letter: "C",
                text: "é€£çµ¡ã‚’å¾Œå›ã—ã«ã—ã¦ã€ç›´æ¥è‡ªå®…ã«å‘ã‹ã†",
                quality: "rethink",
                comment: "å®¶æ—ã®å®‰å¦ã‚’å¾Œå›ã—ã«ã™ã‚‹ã¨ã€å¿ƒé…ãŒåˆ¤æ–­ã®é‚ªé­”ã‚’ã—ã¾ã™ã€‚ã¾ãŸç§»å‹•ä¸­ã®äºŒæ¬¡ç½å®³ãƒªã‚¹ã‚¯ã‚‚ã‚ã‚Šã¾ã™ã€‚ã¾ãšãƒ‡ã‚¸ã‚¿ãƒ«ã§é€£çµ¡ã‚’è©¦ã¿ã¾ã—ã‚‡ã†ã€‚",
                bestComment: "B â†’ ã¾ãšãƒ†ã‚­ã‚¹ãƒˆãƒ»SNSã§å®‰å¦ç¢ºèª"
              }
            ],
            learningPoint: "è‡ªåˆ† â†’ å®¶æ— â†’ ä»•äº‹ã®é †ç•ªãŒåŸºæœ¬ã€‚\néŸ³å£°å›ç·šã¯è¼»è¼³ï¼ˆæ··é›‘ï¼‰ã—ã‚„ã™ã„ã€‚ãƒ†ã‚­ã‚¹ãƒˆãƒ»SNSã‚’æ´»ç”¨ã—ã‚ˆã†ã€‚",
            nextAct: "act2"
          }
        ]
      },
      act2: {
        label: "ç¬¬2å¹•",
        title: "é€šä¿¡ãŒä½¿ãˆãªã„â€¦",
        goal: "è¤‡æ•°ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ‰‹æ®µã®å¿…è¦æ€§ã‚’ä½“æ„Ÿã—ã€æƒ…å ±åé›†ã®ãƒ«ãƒ¼ãƒˆã‚’çŸ¥ã‚‹ã€‚",
        time: "ç´„10åˆ†",
        facilNote: "é€šä¿¡ãŒé€”çµ¶ãˆãŸçµŒé¨“ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿã‚°ãƒ«ãƒ¼ãƒ—ã§ã€Œã©ã‚“ãªé€£çµ¡æ‰‹æ®µã‚’æŒã£ã¦ã„ã‚‹ã‹ã€ã‚’ç¢ºèªã—åˆã£ã¦ã‹ã‚‰é¸æŠè‚¢ã‚’é¸ã‚“ã§ã¿ã¾ã—ã‚‡ã†ã€‚",
        headerSub: "ç¬¬2å¹•ï¼šã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»æƒ…å ±åé›†",
        scenes: [
          {
            id: "2-1",
            label: "ç¬¬2å¹• ã‚·ãƒ¼ãƒ³3",
            messages: [
              { type: "narrator", text: "æºã‚ŒãŒãŠã•ã¾ã£ãŸã®ã‚’ç¢ºèªã—ã€è·¯è‚©ã«è»Šã‚’åœã‚ãŸã€‚æ™‚åˆ»ã¯åˆå‰10æ™‚57åˆ†ã€‚" },
              { type: "narrator", text: "ã¾ãšè‡ªåˆ†ã®ä½“ã‚’ç¢ºèªã™ã‚‹ã€‚æ‰“æ’²ã¯ã‚ã‚‹ãŒã€å¤§ããªæ€ªæˆ‘ã¯ãªã•ãã†ã ã€‚" },
              { type: "nanta", text: "å®¶æ—ã¯â€¦â€¦ã‚¯ãƒªãƒ‹ãƒƒã‚¯ã®ã‚¹ã‚¿ãƒƒãƒ•ã¯â€¦â€¦ã¿ã‚“ãªç„¡äº‹ã‹ï¼Ÿ" },
              { type: "narrator", text: "ã‚¹ãƒãƒ›ã‚’æ‰‹ã«ã¨ã‚‹ã€‚é›»æ³¢ã¯1æœ¬ã€‚ã„ã¤åˆ‡ã‚Œã¦ã‚‚ãŠã‹ã—ããªã„çŠ¶æ³ã ã€‚" }
            ],
            question: "å®¶æ—ã¨ã‚¯ãƒªãƒ‹ãƒƒã‚¯ã¸ã®é€£çµ¡ã€ã©ã†ã—ã¾ã™ã‹ï¼Ÿ",
            choices: [
              {
                letter: "A",
                text: "ã‚¹ã‚¿ãƒƒãƒ•ã®æºå¸¯ã«é †ç•ªã«é›»è©±ã‚’ã‹ã‘ç¶šã‘ã‚‹",
                quality: "ok",
                comment: "é›»è©±ã¯ç¢ºå®Ÿã«è©±ã›ã¾ã™ãŒã€å›ç·šè¼»è¼³ã§ç¹‹ãŒã‚‰ãªã„å¯èƒ½æ€§ãŒé«˜ã„ã€‚ä¸€æ‰‹æ®µã«é ¼ã‚‰ãšè¤‡æ•°æ‰‹æ®µã‚’ä¸¦è¡Œã—ã¦ä½¿ã†ã“ã¨ãŒå¤§åˆ‡ã§ã™ã€‚",
                bestComment: "C â†’ é€£çµ¡ãƒ„ãƒªãƒ¼ï¼‹è¤‡æ•°æ‰‹æ®µã‚’å¹³æ™‚ã‹ã‚‰æº–å‚™ã—ã¦ãŠã"
              },
              {
                letter: "B",
                text: "ãƒ¡ãƒ¼ãƒ«ã‚’ä¸€æ–‰é€ä¿¡ã™ã‚‹ã€‚è¦‹ã¦ãã‚Œã‚‹ã¯ãšã ",
                quality: "rethink",
                comment: "ãƒ¡ãƒ¼ãƒ«ã¯å±Šã„ã¦ã‚‚æ°—ã¥ã‹ã‚Œã«ããã€åœé›»ã§PCãŒä½¿ãˆãªã„çŠ¶æ³ã‚‚è€ƒãˆã‚‰ã‚Œã¾ã™ã€‚å—ä¿¡ç¢ºèªã‚‚ã§ãã¾ã›ã‚“ã€‚",
                bestComment: "C â†’ äº‹å‰ã«æ±ºã‚ãŸé€£çµ¡ãƒ„ãƒªãƒ¼ã¨è¤‡æ•°æ‰‹æ®µã®çµ„ã¿åˆã‚ã›ãŒå¿…è¦"
              },
              {
                letter: "C",
                text: "äº‹å‰ã«æ±ºã‚ã¦ã„ãŸã€Œé€£çµ¡ãƒ„ãƒªãƒ¼ã€ã‚’ä½¿ã„ã€LINEãƒ»SMSãƒ»ç„¡ç·šã‚’ä¸¦è¡Œã—ã¦ä½¿ã†",
                quality: "great",
                comment: "æœ€å–„ã®é¸æŠã§ã™ï¼å¹³æ™‚ã«ã€Œé€£çµ¡ãƒ„ãƒªãƒ¼ã€ã¨è¤‡æ•°ã®é€šä¿¡æ‰‹æ®µã‚’æ•´å‚™ã—ã¦ãŠãã“ã¨ã§ã€ã“ã†ã—ãŸçŠ¶æ³ã§ã‚‚ç¢ºå®Ÿã«é€£çµ¡ãŒå–ã‚Œã¾ã™ã€‚",
                bestComment: null
              }
            ],
            nextScene: "2-info"
          },
          {
            id: "2-info",
            label: "ç¬¬2å¹• ã‚·ãƒ¼ãƒ³ æƒ…å ±åé›†",
            messages: [
              { type: "narrator", text: "è¿‚å›è·¯ã‚’èµ°ã‚ŠãªãŒã‚‰ã€å¤–ã®æ§˜å­ãŒæ°—ã«ãªã‚‹ã€‚é“è·¯ã®é™¥æ²¡ã€å´©ã‚ŒãŸå¡€ã€åœè»Šã—ãŸè»Šâ€¦â€¦è¢«å®³ã¯ã‹ãªã‚Šåºƒç¯„å›²ã®ã‚ˆã†ã ã€‚" },
              { type: "nanta", text: "å…¨ä½“ã§ã©ã‚Œã ã‘ã®è¢«å®³ãŒå‡ºã¦ã„ã‚‹ã‚“ã ã‚ã†ã€‚æƒ…å ±ã‚’é›†ã‚ãªã„ã¨â€¦â€¦" },
              { type: "narrator", text: "ã‚¹ãƒãƒ›ã‚’æ‰‹ã«ã¨ã‚‹ãŒã€ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚µã‚¤ãƒˆã¯ãªã‹ãªã‹ã¤ãªãŒã‚‰ãªã„ã€‚" }
            ],
            question: "è¢«å®³ã®å…¨ä½“åƒã‚’æŠŠæ¡ã™ã‚‹ãŸã‚ã«ã€ã¾ãšã©ã†ã—ã¾ã™ã‹ï¼Ÿ",
            choices: [
              {
                letter: "A",
                text: "Xï¼ˆæ—§Twitterï¼‰ã‚„SNSã§ã€Œã¾ãŸãŸã³å¸‚ åœ°éœ‡ã€ã¨æ¤œç´¢ã™ã‚‹",
                quality: "ok",
                comment: "SNSã«ã¯ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æƒ…å ±ãŒé›†ã¾ã‚Šã¾ã™ãŒã€ãƒ‡ãƒã‚„èª¤æƒ…å ±ã‚‚å¤šãæ··åœ¨ã—ã¾ã™ã€‚å…¬å¼æƒ…å ±ã¨å¿…ãšç…§åˆã—ã¾ã—ã‚‡ã†ã€‚",
                bestComment: "B â†’ å¹³æ™‚ã‹ã‚‰å…¬å¼ã®é˜²ç½ã‚¢ãƒ—ãƒªã‚’å…¥ã‚Œã¦ãŠãã¨ã€ä¿¡é ¼æ€§ã®é«˜ã„æƒ…å ±ã«ã™ãã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™"
              },
              {
                letter: "B",
                text: "ã‚¹ãƒãƒ›ã®é˜²ç½ã‚¢ãƒ—ãƒªï¼ˆNTBãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ»é˜²ç½ã€Yahoo!é˜²ç½é€Ÿå ±ãªã©ï¼‰ã‚’é–‹ã",
                quality: "great",
                comment: "æ­£è§£ã§ã™ï¼ã€ŒNTBãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ»é˜²ç½ã€ã‚„ã€ŒYahoo!é˜²ç½é€Ÿå ±ã€ã¯ã€ç·Šæ€¥åœ°éœ‡é€Ÿå ±ãƒ»é¿é›£æƒ…å ±ãƒ»è¢«å®³çŠ¶æ³ã‚’å…¬å¼æƒ…å ±ã¨ã—ã¦ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§å±Šã‘ã¦ãã‚Œã¾ã™ã€‚ã¿ãªã•ã‚“ã€ã‚¹ãƒãƒ›ã«ã“ã†ã—ãŸé˜²ç½ã‚¢ãƒ—ãƒªã¯å…¥ã£ã¦ã„ã¾ã™ã‹ï¼Ÿ",
                bestComment: null
              },
              {
                letter: "C",
                text: "ã‚«ãƒ¼ãƒ©ã‚¸ã‚ªã‚’ã¤ã‘ã‚‹",
                quality: "ok",
                comment: "ãƒ©ã‚¸ã‚ªã¯åœé›»æ™‚ã§ã‚‚ä½¿ãˆã¦ä¿¡é ¼æ€§ãŒé«˜ã„å„ªã‚ŒãŸæ‰‹æ®µã§ã™ã€‚é˜²ç½ã‚¢ãƒ—ãƒªã¨çµ„ã¿åˆã‚ã›ã‚‹ã®ãŒç†æƒ³çš„ã§ã™ã€‚",
                bestComment: "Bï¼‹C â†’ é˜²ç½ã‚¢ãƒ—ãƒªã¨ãƒ©ã‚¸ã‚ªã®çµ„ã¿åˆã‚ã›ãŒæœ€å¼·"
              }
            ],
            learningPoint: "ã€ä¸»ãªé˜²ç½ã‚¢ãƒ—ãƒªä¸€è¦§ã€‘\nãƒ»NHKãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ»é˜²ç½ï¼ˆç·Šæ€¥é€Ÿå ±ï¼‹ãƒ‹ãƒ¥ãƒ¼ã‚¹æ˜ åƒï¼‰\nãƒ»Yahoo!é˜²ç½é€Ÿå ±ï¼ˆåœ°éœ‡ãƒ»æ´¥æ³¢ãƒ»å¤§é›¨ãªã©å¤šãƒã‚¶ãƒ¼ãƒ‰å¯¾å¿œï¼‰\nãƒ»ã‚†ã‚Œã‚³ãƒ¼ãƒ«ï¼ˆåœ°éœ‡æ—©æœŸè­¦å ±ãƒ»åˆ°é”æ™‚åˆ»äºˆæ¸¬ï¼‰\nãƒ»ç½å®³ç”¨ä¼è¨€æ¿ Web171ï¼ˆNTTå®‰å¦ç¢ºèªï¼‰\nãƒ»å„ã‚­ãƒ£ãƒªã‚¢ã®ã‚¨ãƒªã‚¢ãƒ¡ãƒ¼ãƒ«ï¼ˆè‡ªå‹•å—ä¿¡ãƒ»è¨­å®šä¸è¦ï¼‰\n\nå¹³æ™‚ã«å…¥ã‚Œã¦ãŠãã ã‘ã§ã€ã„ã–ã¨ã„ã†ã¨ãå¤§ããªå·®ã«ãªã‚Šã¾ã™ï¼",
            nextScene: "2-2"
          },
          {
            id: "2-2",
            label: "ç¬¬2å¹• ã‚·ãƒ¼ãƒ³4",
            preMessages: [
              { type: "system", text: "ğŸ“¡ ã€é˜²ç½ã‚¢ãƒ—ãƒªã§åˆ¤æ˜ã—ãŸè¢«å®³çŠ¶æ³ã€‘\n\nãƒ»å¸‚å†…ã®è¤‡æ•°å»ºç‰©å€’å£Šã€ä¸»è¦é“è·¯ãŒåœŸç ‚å´©ã‚Œç­‰ã§å¯¸æ–­ï¼ˆå—è¥¿å´å¸‚é“ã®ã¿ä¸€éƒ¨é€šè¡Œå¯ï¼‰\nãƒ»ã¾ãŸãŸã³ä¸­å¤®ç—…é™¢ãªã©3ã¤ã®ä¸»è¦æ–½è¨­ãŒè¢«ç½ãƒ»æ©Ÿèƒ½ä¸å…¨\nãƒ»æ­»å‚·è€…å¤šæ•°ï¼ˆç¾åœ¨ã‚‚è¢«å®³ã®å…¨å®¹ã¯ä¸æ˜ï¼‰\nãƒ»ä¸€éƒ¨åœé›»ã€æ–­æ°´åœ°åŒºã‚ã‚Šã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šä¸å®‰å®š\nãƒ»é¿é›£æ‰€é–‹è¨­" },

              // <!-- ç”»åƒæŒ¿å…¥ãƒã‚¤ãƒ³ãƒˆï¼šåœé›»ã—ãŸã‚¯ãƒªãƒ‹ãƒƒã‚¯å†…éƒ¨ã®ç”»åƒ -->
              // { type: "system", text: `<div class="image-placeholder" style="width: 100%; height: 120px; background: rgba(0,0,0,0.1); border: 2px dashed rgba(0,0,0,0.3); border-radius: 8px; margin: 8px 0; display: flex; align-items: center; justify-content: center; color: #666; font-size: 11px;">åœé›»ã—ãŸã‚¯ãƒªãƒ‹ãƒƒã‚¯ã®ç”»åƒ</div>` },

              { type: "narrator", text: "é€£çµ¡ãƒ„ãƒªãƒ¼ã‚’ä½¿ã„ã€å®¶æ—ã®ç„¡äº‹ã‚’ç¢ºèªã€‚ã‚¹ã‚¿ãƒƒãƒ•4äººã®ã†ã¡3äººã®å®‰å¦ã‚‚å–ã‚ŒãŸã€‚1äººã¯é“è·¯å¯¸æ–­ã§æ¥ã‚‰ã‚Œãªã„ãŒç„¡äº‹ã¨ã®ã“ã¨ã€‚" },
              { type: "narrator", text: "è¿‚å›è·¯ã‚’é€šã‚Šã€ãªã‚“ã¨ã‹ã‚¯ãƒªãƒ‹ãƒƒã‚¯ã«åˆ°ç€ã—ãŸã€‚åˆå‰11æ™‚30åˆ†ã€‚" },
              { type: "narrator", text: "ã‚¯ãƒªãƒ‹ãƒƒã‚¯ã¯å»ºç‰©ã®å¤–è¦³ã¯ç„¡äº‹ã ãŒã€åœé›»ã—ã¦ã„ã‚‹ã€‚" },
              { type: "nanta", text: "ã‚ˆã‹ã£ãŸâ€¦â€¦ã€‚ã•ã‚ã€ã‚¯ãƒªãƒ‹ãƒƒã‚¯ã‚’å†é–‹ã™ã‚‹æº–å‚™ã‚’â€”â€”" },
              { type: "patient", text: "å…ˆç”Ÿï¼ é€æç—…é™¢ãŒè¢«ç½ã—ãŸã£ã¦èãã¾ã—ãŸã€‚ã©ã†ã™ã‚Œã°ã„ã„ã‚“ã§ã™ã‹â€¦â€¦ï¼" },
              { type: "narrator", text: "é€±3å›é€æãŒå¿…è¦ãªæ‚£è€…ã•ã‚“ãƒ»ä¸‰æ¯›ãƒãƒªã•ã‚“ï¼ˆ78æ­³ï¼‰ã‹ã‚‰ç·Šæ€¥é€£çµ¡ãŒå…¥ã£ãŸã€‚æ¬¡ã®é€æã¯æ˜æ—¥ã ã€‚" }
            ],
            question: "ã“ã®çŠ¶æ³ã€ã©ã†å¯¾å¿œã—ã¾ã™ã‹ï¼Ÿ",
            choices: [
              {
                letter: "A",
                text: "å¸‚å½¹æ‰€ã«è¨­ç½®ã•ã‚ŒãŸã€Œä¿å¥åŒ»ç™‚ç¦ç¥‰èª¿æ•´æœ¬éƒ¨ã€ã«è¢«å®³çŠ¶æ³ã‚’å ±å‘Šã—ã€åºƒåŸŸé€£æºã§é€æå¯èƒ½æ–½è¨­ã‚’èª¿æ•´ã—ã¦ã‚‚ã‚‰ã†",
                quality: "great",
                comment: "æ­£è§£ï¼ãƒ—ãƒ©ã‚¤ãƒãƒªãƒ»ã‚±ã‚¢åŒ»ã¯åœ°åŸŸã®çŠ¶æ³ã‚’æŠŠæ¡ã—ã€è¡Œæ”¿ã‚„èª¿æ•´æœ¬éƒ¨ã¸ç¢ºå®Ÿã«ã¤ãªãã€Œå—æ´åŠ›ï¼ˆå¤–éƒ¨æ”¯æ´ã‚’é©åˆ‡ã«å—ã‘å…¥ã‚Œã‚‹åŠ›ï¼‰ã€ãŒæ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚å…¬å¼ãƒ«ãƒ¼ãƒˆã‚’æ´»ç”¨ã—ãŸèª¿æ•´ãŒæœ€ã‚‚ç¢ºå®Ÿã§ã™ã€‚",
                bestComment: null
              },
              {
                letter: "B",
                text: "çŸ¥ã‚Šåˆã„ã®ç—…é™¢ã«ç‰‡ã£ç«¯ã‹ã‚‰ç›´æ¥é›»è©±ã™ã‚‹",
                quality: "ok",
                comment: "äººè„ˆã¯å¤§åˆ‡ã§ã™ãŒã€å¤§è¦æ¨¡ç½å®³æ™‚ã¯ã©ã“ã‚‚è¢«ç½ã—ã¦ãŠã‚Šã€å€‹åˆ¥ã®é›»è©±ã¯èª¿æ•´ã®æ··ä¹±ã‚’æ‹›ãå¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚å…¬å¼ã®èª¿æ•´æœ¬éƒ¨ç­‰ã‚’é€šã—ãŸåºƒåŸŸé€£æºã‚’å„ªå…ˆã•ã›ã¾ã—ã‚‡ã†ã€‚",
                bestComment: "A â†’ ä¿å¥åŒ»ç™‚ç¦ç¥‰èª¿æ•´æœ¬éƒ¨ã‚’é€šã˜ãŸåºƒåŸŸèª¿æ•´ãŒåŸºæœ¬ã¨ãªã‚Šã¾ã™"
              },
              {
                letter: "C",
                text: "æ˜æ—¥ã¾ã§æ§˜å­ã‚’è¦‹ã‚‹",
                quality: "rethink",
                comment: "é€ææ‚£è€…ã•ã‚“ã«ã¨ã£ã¦1æ—¥ã®é…ã‚Œã¯å‘½ã«é–¢ã‚ã‚Šã¾ã™ã€‚ä»Šã™ãèª¿æ•´ã«å‘ã‘ãŸæƒ…å ±ä¼é”ï¼ˆè¡Œæ”¿ãƒ»èª¿æ•´æœ¬éƒ¨ã¸ã®SOSï¼‰ã‚’é–‹å§‹ã™ã‚‹ã“ã¨ãŒå¿…è¦ã§ã™ã€‚",
                bestComment: "A â†’ è¡Œæ”¿ã‚„ä¿å¥åŒ»ç™‚ç¦ç¥‰èª¿æ•´æœ¬éƒ¨ã¸å³åº§ã«å ±å‘Šãƒ»ç›¸è«‡ã™ã‚‹"
              }
            ],
            learningPoint: "ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ‰‹æ®µã¯å¿…ãš2ã¤ä»¥ä¸Šç¢ºä¿ã—ã‚ˆã†ã€‚\nå¤–éƒ¨ã®æ”¯æ´ã‚„èª¿æ•´æ©Ÿé–¢ï¼ˆä¿å¥åŒ»ç™‚ç¦ç¥‰èª¿æ•´æœ¬éƒ¨ç­‰ï¼‰ã‚’é ¼ã‚‹ã€Œå—æ´åŠ›ã€ãŒåœ°åŸŸåŒ»ç™‚ã‚’å®ˆã‚‹éµã§ã™ã€‚",
            nextAct: "act3"
          }
        ]
      },
      act3: {
        label: "ç¬¬3å¹•",
        title: "ã‚¯ãƒªãƒ‹ãƒƒã‚¯ã‚’ã©ã†å®ˆã‚‹ã‹",
        goal: "æ‚£è€…ã¨ã®äº‹å‰ã®å¯¾è©±ã¨ã€ã‚¯ãƒªãƒ‹ãƒƒã‚¯ã®ç‰©ç†çš„ãƒ»åˆ¶åº¦çš„å‚™ãˆã®é‡è¦æ€§ã‚’ç†è§£ã™ã‚‹ã€‚",
        time: "ç´„10åˆ†",
        facilNote: "ã“ã®å¹•ã§ã¯ã€Œæ‚£è€…ã¨ã®å¹³æ™‚ã®å¯¾è©±ã€ã¨ã€Œã‚¯ãƒªãƒ‹ãƒƒã‚¯ã®å‚™ãˆï¼ˆäººãƒ»ãƒ¢ãƒãƒ»é€šä¿¡ãƒ»ãŠé‡‘ï¼‰ã€ã‚’åˆ†ã‘ã¦è€ƒãˆã¾ã™ã€‚ã‚°ãƒ«ãƒ¼ãƒ—ã§ã€è‡ªé™¢ã§æ˜æ—¥ã‹ã‚‰ç€æ‰‹ã§ãã‚‹è¡Œå‹•ã‚’1ã¤æ±ºã‚ã¦ã‹ã‚‰é¸æŠè‚¢ã‚’é¸ã‚“ã§ã¿ã¾ã—ã‚‡ã†ã€‚",
        headerSub: "ç¬¬3å¹•ï¼šæ‚£è€…ãƒ»ã‚¯ãƒªãƒ‹ãƒƒã‚¯ã®å¯¾å¿œ",
        scenes: [
          {
            id: "3-1",
            label: "ç¬¬3å¹• ã‚·ãƒ¼ãƒ³5",
            messages: [
              { type: "narrator", text: "ç™ºç½ã‹ã‚‰3æ™‚é–“ã€‚é¿é›£è€…ã®å¯¾å¿œã§ã‚¯ãƒªãƒ‹ãƒƒã‚¯ã¯æ··ã¿åˆã„å§‹ã‚ã¦ã„ãŸã€‚" },
              { type: "staff", text: "å…ˆç”Ÿã€ç‹¬å±…ã®ä¸‰æ¯›ç”°ãƒãƒ¨ã•ã‚“ï¼ˆ85æ­³ï¼‰ã‹ã‚‰é€£çµ¡ãŒå–ã‚Œã¾ã›ã‚“ã€‚é¿é›£æ‰€ã«æ¥ã¦ã„ã‚‹ã¯ãšãªã‚“ã§ã™ãŒâ€¦â€¦" },
              { type: "nanta", text: "ä¸‰æ¯›ç”°ãƒãƒ¨ã•ã‚“ã‹â€¦â€¦ã€‚ã©ã“ã«é¿é›£ã™ã‚‹ã‹ã€è©±ã—åˆã£ãŸã“ã¨ãŒãªã‹ã£ãŸãªã€‚" },
              { type: "narrator", text: "ä¸‰æ¯›ç”°ãƒãƒ¨ã•ã‚“ã¯è¦æ”¯æ´2ã®ç‹¬å±…é«˜é½¢è€…ã€‚ç½å®³æ™‚å€‹åˆ¥é¿é›£è¨ˆç”»ã¯æœªä½œæˆã ã£ãŸã€‚" }
            ],
            question: "ã“ã†ã—ãŸçŠ¶æ³ã‚’é˜²ããŸã‚ã«ã€æ™®æ®µã‹ã‚‰ã§ãã‚‹ã“ã¨ã¯ä½•ã§ã—ãŸã‹ï¼Ÿ",
            choices: [
              {
                letter: "A",
                text: "ç½å®³æ™‚ã¯å¸‚ã®è¡Œæ”¿ã‚„æ°‘ç”Ÿå§”å“¡ãŒå¯¾å¿œã—ã¦ãã‚Œã‚‹ã¯ãš",
                quality: "rethink",
                comment: "è¡Œæ”¿ãƒ»æ°‘ç”Ÿå§”å“¡ã‚‚å¤§åˆ‡ãªå½¹å‰²ã§ã™ãŒã€å¤§è¦æ¨¡ç½å®³æ™‚ã¯äººæ‰‹ãŒåœ§å€’çš„ã«ä¸è¶³ã—ã¾ã™ã€‚ã‹ã‹ã‚Šã¤ã‘åŒ»ã¨ã®æ—¥å¸¸çš„ãªé–¢ä¿‚ãŒé‡è¦ãªå®‰å…¨ç¶²ã«ãªã‚Šã¾ã™ã€‚",
                bestComment: "B â†’ æ™®æ®µã®è¨ºç™‚ã§ã€Œé¿é›£å…ˆã€ã€Œç·Šæ€¥é€£çµ¡å…ˆã€ã‚’ç¢ºèªã—ã¦ãŠã"
              },
              {
                letter: "B",
                text: "æ™®æ®µã®è¨ºç™‚ã®ãªã‹ã§ã€Œã©ã“ã«é¿é›£ã™ã‚‹ã‹ã€ã€Œèª°ã«åŠ©ã‘ã¦ã‚‚ã‚‰ã†ã‹ã€ã‚’è©±ã—åˆã£ã¦ãŠã",
                quality: "great",
                comment: "æ­£è§£ï¼ã‹ã‹ã‚Šã¤ã‘åŒ»ã¯æ‚£è€…ã•ã‚“ã®ç”Ÿæ´»ãƒ»å®¶æ—çŠ¶æ³ã‚’ã‚ˆãçŸ¥ã£ã¦ã„ã¾ã™ã€‚æ—¥å¸¸è¨ºç™‚ã®ä¸­ã§ã€Œç½å®³æ™‚å€‹åˆ¥é¿é›£è¨ˆç”»ã€ã®è©±é¡Œã‚’å‡ºã™ã“ã¨ãŒæœ€å¤§ã®å‚™ãˆã§ã™ã€‚",
                bestComment: null
              },
              {
                letter: "C",
                text: "ç·Šæ€¥é€£çµ¡å…ˆã ã‘ã‚«ãƒ«ãƒ†ã«è¨˜éŒ²ã—ã¦ãŠã‘ã°ååˆ†",
                quality: "ok",
                comment: "ç·Šæ€¥é€£çµ¡å…ˆã®æŠŠæ¡ã¯å¿…è¦ã§ã™ãŒã€ã€Œèª°ãŒã©ã“ã«é¿é›£ã™ã‚‹ã‹ã€ã¾ã§å…·ä½“åŒ–ã—ã¦ãŠã‹ãªã„ã¨ã€ç½å®³æ™‚ã«å‹•ã‘ã¾ã›ã‚“ã€‚ã‚‚ã†ä¸€æ­©è¸ã¿è¾¼ã‚“ã å¯¾è©±ãŒå¿…è¦ã§ã™ã€‚",
                bestComment: "B â†’ ã€Œã©ã“ã«é€ƒã’ã‚‹ã‹ã€ã¾ã§è©±ã—åˆã£ã¦ãŠãã“ã¨ãŒé‡è¦"
              }
            ],
            nextScene: "3-2"
          },
          {
            id: "3-2",
            label: "ç¬¬3å¹• ã‚·ãƒ¼ãƒ³6",
            preMessages: [

              // <!-- ç”»åƒæŒ¿å…¥ãƒã‚¤ãƒ³ãƒˆï¼šæ£šã‹ã‚‰è–¬ãŒæ•£ä¹±ã—ã¦ã„ã‚‹ç”»åƒ -->
              // { type: "system", text: `<div class="image-placeholder" style="width: 100%; height: 120px; background: rgba(0,0,0,0.1); border: 2px dashed rgba(0,0,0,0.3); border-radius: 8px; margin: 8px 0; display: flex; align-items: center; justify-content: center; color: #666; font-size: 11px;">æ•£ä¹±ã—ãŸåŒ»è–¬å“ã®ç”»åƒ</div>` },

              { type: "narrator", text: "ã‚¯ãƒªãƒ‹ãƒƒã‚¯ã®è¨ºå¯Ÿå®¤ã«æˆ»ã‚‹ã¨ã€è–¬å“æ£šãŒå‚¾ãã€ä¸€éƒ¨ã®è–¬ãŒåºŠã«æ•£ä¹±ã—ã¦ã„ãŸã€‚" },
              { type: "nanta", text: "â€¦â€¦æ£šãŒå›ºå®šã•ã‚Œã¦ã„ãªã‹ã£ãŸã€‚è–¬ãŒâ€¦â€¦ä½¿ãˆãªããªã£ãŸã‚‚ã®ãŒã‚ã‚‹ã€‚" },
              { type: "staff", text: "å…ˆç”Ÿã€éå¸¸ç”¨ãƒãƒƒãƒ†ãƒªãƒ¼ã®å ´æ‰€ã£ã¦ã©ã“ã§ã—ãŸã£ã‘ï¼Ÿ å‚™ãˆä»˜ã‘ã®å ´æ‰€ãŒã‚ã‹ã‚‰ãªãã¦â€¦â€¦" },
              { type: "nanta", text: "ï¼ˆBCPã‚’æ•´å‚™ã—ã¦ãŠãã¹ãã ã£ãŸãªâ€¦â€¦ï¼‰" }
            ],
            question: "å¹³æ™‚ã®å‚™ãˆã¨ã—ã¦ã€ä½•ãŒæœ€ã‚‚é‡è¦ã ã£ãŸã§ã—ã‚‡ã†ã‹ï¼Ÿ",
            choices: [
              {
                letter: "A",
                text: "ååˆ†ãªåœ¨åº«ï¼ˆè–¬ãƒ»æ¶ˆè€—å“ï¼‰ã‚’ç¢ºä¿ã—ã¦ãŠãã ã‘ã§ã‚ˆã„",
                quality: "ok",
                comment: "åœ¨åº«ç¢ºä¿ã¯å¤§åˆ‡ã§ã™ãŒã€æ£šãŒå€’ã‚Œã‚Œã°è–¬ã‚‚ä½¿ãˆãªããªã‚Šã¾ã™ã€‚ãƒãƒ¼ãƒ‰ã¨ã‚½ãƒ•ãƒˆã®ä¸¡æ–¹ã®å‚™ãˆãŒå¿…è¦ã§ã™ã€‚",
                bestComment: "B â†’ æ£šã®å›ºå®šãƒ»è€éœ‡ã€BCPã®æ•´å‚™ãŒç‰©çš„ãƒ»äººçš„ãªå‚™ãˆã®åŸºæœ¬"
              },
              {
                letter: "B",
                text: "æ£šã®å›ºå®šãƒ»å»ºç‰©è€éœ‡ç¢ºèªãƒ»BCPã®æ•´å‚™ï¼ˆäººãƒ»ãƒ¢ãƒãƒ»é€šä¿¡ãƒ»ãŠé‡‘ã®4é …ç›®ï¼‰",
                quality: "great",
                comment: "æœ€å–„ã®é¸æŠã§ã™ï¼BCPã¯4ã¤ã®æŸ±ï¼ˆäººãƒ»ãƒ¢ãƒãƒ»é€šä¿¡ãƒ»ãŠé‡‘ï¼‰ã§è€ƒãˆã¾ã™ã€‚å»ºç‰©ãƒ»è¨­å‚™ã®ç‰©ç†çš„ãªå‚™ãˆã¨ã€ã‚¹ã‚¿ãƒƒãƒ•ãŒå‹•ã‘ã‚‹ä»•çµ„ã¿ä½œã‚ŠãŒä¸¡è¼ªã§ã™ã€‚",
                bestComment: null
              },
              {
                letter: "C",
                text: "åŒ»ç™‚ä¿é™ºã‚’ã—ã£ã‹ã‚Šã‹ã‘ã¦ãŠã‘ã°ã‚ˆã„",
                quality: "rethink",
                comment: "ä¿é™ºã‚‚å¤§åˆ‡ã§ã™ãŒã€ç™ºç½ç›´å¾Œã®å¯¾å¿œã«ã¯å½¹ç«‹ã¡ã¾ã›ã‚“ã€‚BCPã¯ã€Œç¶™ç¶šã—ã¦è¨ºç™‚ã§ãã‚‹ã‹ã€ã¨ã„ã†è¦³ç‚¹ã§æ•´å‚™ã™ã‚‹ã‚‚ã®ã§ã™ã€‚",
                bestComment: "B â†’ æ£šã®å›ºå®šãƒ»è€éœ‡ç¢ºèªãƒ»BCPã®æ•´å‚™ãŒå„ªå…ˆ"
              }
            ],
            learningPoint: "ã€Œäººãƒ»ãƒ¢ãƒãƒ»é€šä¿¡ãƒ»ãŠé‡‘ã€ã®4è¦–ç‚¹ã§BCPã‚’æ•´å‚™ã—ã‚ˆã†ã€‚\nè¦é…æ…®è€…ã¨ã®å¹³æ™‚ã®å¯¾è©±ãŒã€ç½å®³æ™‚ã®å®‰å…¨ç¶²ã«ãªã‚‹ã€‚",
            nextAct: "hazard",
            nextAfterBCP: "act4"
          }
        ]
      },
      act4: {
        label: "ç¬¬4å¹•",
        title: "ã‚ã®ã‚¹ã‚¿ãƒƒãƒ•ã¸ã®å£°ã‹ã‘",
        goal: "ã‚¹ã‚¿ãƒƒãƒ•ã®ãƒ¡ãƒ³ã‚¿ãƒ«é¢ã«æ°—ã‚’é…ã‚Šã€PFAï¼ˆå¿ƒç†çš„å¿œæ€¥å‡¦ç½®ï¼‰ã®è¦–ç‚¹ã‚’æŒã¤ã€‚",
        time: "ç´„15ã€œ20åˆ†",
        facilNote: "ç™ºç½ã‹ã‚‰æ™‚é–“ãŒçµŒã¡ã€ç–²åŠ´ãŒè“„ç©ã™ã‚‹æ™‚æœŸã§ã™ã€‚èº«è¿‘ãªã‚¹ã‚¿ãƒƒãƒ•ã®ã‚±ã‚¢ã‚‚ç®¡ç†è€…ã®é‡è¦ãªå½¹å‰²ã§ã™ã€‚",
        headerSub: "ç¬¬4å¹•ï¼šç™ºç½1é€±é–“å¾Œã€œã‚¹ã‚¿ãƒƒãƒ•ã®ã‚±ã‚¢ã¨PFAã€œ",
        scenes: [
          {
            id: "4-1",
            label: "ç¬¬4å¹• ã‚·ãƒ¼ãƒ³7",
            messages: [
              { type: "narrator", text: "ç™ºç½ã‹ã‚‰1é€±é–“ãŒçµŒéã€‚è¨ºç™‚æ‰€ã®ä½“åˆ¶ã‚’ç„¡ç†ã‚„ã‚Šå›ã—ã¦ã„ã‚‹ã€‚" },
              { type: "narrator", text: "ãã‚“ãªä¸­ã€äº‹å‹™ã‚¹ã‚¿ãƒƒãƒ•ã®ã‚ã£ã‘ã•ã‚“ï¼ˆ35æ­³ï¼‰ã®é¡”è‰²ãŒå„ªã‚Œãªã„ã“ã¨ã«æ°—ã¥ã„ãŸã€‚" },
              { type: "mekke", text: "é™¢é•·â€¦â€¦å°‘ã—ã ã‘ãŠæ™‚é–“ã„ã„ã§ã™ã‹ã€‚å®¶ã®ã“ã¨ã‚‚ã‚ã£ã¦ã€æœ€è¿‘ã»ã¨ã‚“ã©çœ ã‚Œã¦ã„ãªãã¦â€¦â€¦ã€‚" },
              { type: "nanta", text: "ï¼ˆã‚ã£ã‘ã•ã‚“ã€å°‘ã—æ§˜å­ãŒãŠã‹ã—ã„ãªã€‚ç–²åŠ´ãŒãŸã¾ã£ã¦ã„ã‚‹ã®ã ã‚ã†ã‹â€¦â€¦å£°ã‚’ã‹ã‘ã¦ã¿ã‚ˆã†ã‹ã€‚ï¼‰" }
            ],
            question: "ã©ã®ã‚ˆã†ã«ã‚ã£ã‘ã•ã‚“ã«å£°ã‚’ã‹ã‘ã€è©±ã‚’èãã¾ã™ã‹ï¼Ÿ",
            choices: [
              {
                letter: "S",
                text: "ã€ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹ã€‘å¤–éƒ¨ãƒœãƒƒãƒˆã§ã‚ã£ã‘ã•ã‚“ã®çŠ¶æ³ã‚’èãå–ã‚‹",
                quality: "ok",
                comment: "ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ«ã‚’é–‹ã„ã¦è©±ã—åˆã„ã‚’è¡Œã„ã¾ã—ã‚‡ã†ã€‚",
                bestComment: null,
                action: "open_simulation"
              }
            ],
            nextScene: "4-2"
          },
          {
            id: "4-2",
            label: "ç¬¬4å¹• ã‚·ãƒ¼ãƒ³8",
            preMessages: [
              { type: "system", text: "ğŸ“‹ ã€ã‚ã£ã‘ã•ã‚“ã®çŠ¶æ³ã‚µãƒãƒªã€‘\n\nãƒ»è¢«ç½ã—è‡ªå®…ãŒå…¨å£Šåˆ¤å®š\nãƒ»é¿é›£æ‰€ã§æš®ã‚‰ã—ãªãŒã‚‰é€šå‹¤ä¸­\nãƒ»åŒå±…ã®ä¸¡è¦ªã‚‚é¿é›£æ‰€ã«ã„ã‚‹ãŒã€55æ­³ã®æ¯è¦ªã¯é¿é›£ä¸­ã«è¶³ã‚’è² å‚·\nãƒ»60æ­³ã®çˆ¶è¦ªã¯ãƒˆã‚¤ãƒ¬ãŒé ã„ãŸã‚æ°´åˆ†ã‚’æ§ãˆã€å…ƒæ°—ãŒãªããªã£ã¦ã„ã‚‹\nãƒ»ã‚ã£ã‘ã•ã‚“è‡ªèº«ã‚‚å‘¨å›²ã®ç‰©éŸ³ã§çœ ã‚Œãšã€ä»Šå¾Œã®è¦‹é€šã—ãŒç«‹ãŸãšè½ã¡è¾¼ã‚“ã§ã„ã‚‹" },
              { type: "narrator", text: "æƒ³åƒä»¥ä¸Šã«éé…·ãªçŠ¶æ³ã ã£ãŸã€‚ç®¡ç†è€…ã¨ã—ã¦ã©ã†ã‚µãƒãƒ¼ãƒˆã§ãã‚‹ã ã‚ã†ã‹ã€‚" },
              { type: "system", text: "ğŸ’¡ ã€PFAï¼ˆå¿ƒç†çš„å¿œæ€¥å‡¦ç½®ï¼‰ã«åŸºã¥ã„ãŸå¯¾å¿œã€‘\n\nãƒ»è¦‹ã‚‹ (Look)ï¼šå®‰å…¨ã®ç¢ºèªã€æ€¥ãªæ”¯æ´ãŒå¿…è¦ãªäººã¯ã„ãªã„ã‹ã€‚\nãƒ»èã (Listen)ï¼šç„¡ç†ã«èãå‡ºã•ãšã€ãã°ã«ã„ã¦å®‰å¿ƒã•ã›ã‚‹ã€‚\nãƒ»ã¤ãªã (Link)ï¼šå¿…è¦ãªæƒ…å ±ã‚„å°‚é–€çš„ãªã‚µãƒãƒ¼ãƒˆã¸ã¤ãªã’ã‚‹ã€‚" }
            ],
            question: "PFAã®è¦–ç‚¹ã‚’è¸ã¾ãˆã€ã‚ã£ã‘ã•ã‚“ã«ä½•ã¨å£°ã‚’ã‹ã‘ã€ã©ã†å¯¾å¿œã—ã¾ã™ã‹ï¼Ÿ",
            choices: [
              {
                letter: "A",
                text: "ã€Œå¤§å¤‰ã ã£ãŸã­ã€‚ã¾ãšã¯ä¼‘ã‚“ã§ã€ãŠçˆ¶ã•ã‚“ã®æ°´åˆ†è£œçµ¦ã®ã“ã¨ãªã©é–¢ä¿‚æ©Ÿé–¢ã«ã¤ãªã’ã‚ˆã†ã€",
                quality: "great",
                comment: "æ­£è§£ã§ã™ï¼ã€Œçœ ã‚Œãªã„ã®ã¯å½“ç„¶ã®åå¿œã ã‚ˆï¼ˆNormalization: æ­£å¸¸åŒ–ï¼‰ã€ã€ŒåŒã˜ã‚ˆã†ã«æ‚©ã‚“ã§ã„ã‚‹äººã‚‚å¤šã„ã‚ˆï¼ˆGeneralization: æ™®éåŒ–ï¼‰ã€ã¨ä¼ãˆã¤ã¤ã€ç„¡ç†ã«åŠ±ã¾ã•ãšçŠ¶æ³ã‚’å—å®¹ã—ã€å…·ä½“çš„ãªæ”¯æ´ï¼ˆã¤ãªãï¼‰ã‚’ææ¡ˆã§ãã¦ã„ã‚‹PFAã«æ²¿ã£ãŸè‰¯ã„å¯¾å¿œã§ã™ã€‚",
                bestComment: null
              },
              {
                letter: "B",
                text: "ã€Œã¿ã‚“ãªè¾›ã„ã‹ã‚‰ã€ä»Šã¯é ‘å¼µã‚‹ã—ã‹ãªã„ã‚ˆã€‚ä»•äº‹ã«é›†ä¸­ã—ã¦æ°—ã‚’ç´›ã‚‰ã‚ãã†ã€",
                quality: "rethink",
                comment: "åŠ±ã¾ã—ã®ã¤ã‚‚ã‚Šã§ã‚‚ã€ãƒ—ãƒ¬ãƒƒã‚·ãƒ£ãƒ¼ã‚’ä¸ãˆã¦ã—ã¾ã„ã¾ã™ã€‚ã€Œèãã€å§¿å‹¢ã‚’å–ã‚Šã€ç›¸æ‰‹ã®ãƒšãƒ¼ã‚¹ã‚’å°Šé‡ã—ã¾ã—ã‚‡ã†ã€‚",
                bestComment: "A â†’ PFAã®åŸå‰‡ï¼ˆå®‰å…¨ãƒ»å®‰å¿ƒæ„Ÿã®ç¢ºä¿ï¼‰ã‚’å„ªå…ˆã™ã‚‹"
              },
              {
                letter: "C",
                text: "ã€Œè¾›ã„ãªã‚‰ç„¡ç†ã›ãš1ãƒ¶æœˆãã‚‰ã„ä¼‘ã‚“ã§ã„ã„ã‚ˆã€",
                quality: "ok",
                comment: "é…æ…®ã¯å¿…è¦ã§ã™ãŒã€ã„ããªã‚Šé•·æœŸä¼‘æš‡ã‚’æŒ‡ç¤ºã™ã‚‹ã¨é€†ã«ç–å¤–æ„Ÿã‚’æ„Ÿã˜ã•ã›ã¦ã—ã¾ã†ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ã¾ãšã¯å…·ä½“çš„ãªå›°ã‚Šã”ã¨ã®ã‚µãƒãƒ¼ãƒˆï¼ˆã¤ãªãï¼‰ã‚’ç›¸è«‡ã—ã¾ã—ã‚‡ã†ã€‚",
                bestComment: "A â†’ ä»Šæ—¥ã®å®‰å…¨ã¨å…·ä½“çš„ãªæƒ…å ±ãƒ»æ”¯æ´ã¸ã®æ¥ç¶šã‚’å„ªå…ˆ"
              }
            ],
            learningPoint: "ã‚¹ã‚¿ãƒƒãƒ•ã‚‚è¢«ç½è€…ã§ã™ã€‚ç®¡ç†è€…ã¨ã—ã¦ PFA (å¿ƒç†çš„å¿œæ€¥å‡¦ç½®) ã®ã€Œè¦‹ã‚‹ãƒ»èããƒ»ã¤ãªãã€ã‚’æ„è­˜ã—ãŸã‚±ã‚¢ãŒé‡è¦ã§ã™ã€‚",
            nextAct: "act5"
          }
        ]
      },
      act5: {
        label: "ç¬¬5å¹•",
        title: "æ”¯æ´ã®å—ã‘å…¥ã‚Œï¼ˆå—æ´åŠ›ï¼‰",
        goal: "ä¸­é•·æœŸçš„ãªè¦–ç‚¹ã§ã®åœ°åŸŸé€£æºã¨å¤–éƒ¨æ”¯æ´ï¼ˆPCATç­‰ï¼‰ã®å—ã‘å…¥ã‚Œã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ã€‚",
        time: "ç´„20åˆ†",
        facilNote: "è‡ªåˆ†ãŸã¡ã ã‘ã§æŠ±ãˆè¾¼ã¾ãšã€ã©ã†å¤–éƒ¨æ”¯æ´ã‚’åŠ¹æœçš„ã«æ´»ç”¨ã™ã‚‹ã‹ï¼ˆå—æ´åŠ›ï¼‰ã‚’ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã—ã¾ã™ã€‚",
        headerSub: "ç¬¬5å¹•ï¼šç™ºç½1ãƒ¶æœˆå¾Œã€œåœ°åŸŸé€£æºã¨å—æ´åŠ›ã€œ",
        scenes: [
          {
            id: "5-1",
            label: "ç¬¬5å¹• ã‚·ãƒ¼ãƒ³9",
            messages: [
              { type: "narrator", text: "ã•ã‚‰ã«æ™‚ãŒçµŒã¡ã€ç™ºç½ã‹ã‚‰1ãƒ¶æœˆå¾Œï¼ˆåœ°éœ‡ã‹ã‚‰ç´„4é€±é–“ï¼‰ã€‚" },
              { type: "narrator", text: "åœ°åŸŸã®æ€¥æ€§æœŸå¯¾å¿œãŒè½ã¡ç€ãå§‹ã‚ã€åŒ»å¸«ä¼šã‹ã‚‰ã€ŒçŠ¶æ³å ±å‘Šã®ãŸã‚ã«é›†ã¾ã‚ã†ã€ã¨é€£çµ¡ãŒã‚ã‚Šã€ä¼šåˆã«å‡ºå¸­ã—ãŸã€‚" },
              { type: "system", text: "ğŸ¥ ã€å¤–éƒ¨ãƒãƒ¼ãƒ ã‹ã‚‰ã®ææ¡ˆã€‘\nDMATã€JMATç­‰æ€¥æ€§æœŸã®æ•‘è­·ç­ã®æ´»å‹•ã«ç›®å‡¦ãŒç«‹ã¡ã€ä»Šå¾Œã®ã‚±ã‚¢ã‚’åœ°åŸŸã®åŒ»ç™‚è€…ã¸å¼•ãç¶™ããŸã„ã€‚" },
              { type: "nanta", text: "ï¼ˆå¼•ãç¶™ãã¨ã„ã£ã¦ã‚‚â€¦â€¦è‡ªåˆ†è‡ªèº«ã‚‚ç›®ã®å‰ã®è¨ºç™‚ã§æ‰‹ä¸€æ¯ã ã€‚ï¼‰" },
              { type: "nanta", text: "ï¼ˆé“è·¯çŠ¶æ³ã‚‚æ‚ªãã€æ™®æ®µ30åˆ†ã§è¡Œã‘ã‚‹å¾€è¨ºã«1ã€œ2æ™‚é–“ã‹ã‹ã‚‹ã€‚æ–°ãŸãªæ”¯æ´ã‚’å¼•ãå—ã‘ã‚‹ä½™è£•ãªã‚“ã¦â€¦â€¦ï¼‰" },
              { type: "narrator", text: "ãã‚“ãªæ™‚ã€Primary Care Assistance Teamï¼ˆPCATï¼‰ã®äº‹å‹™å±€ã‹ã‚‰ã€Œãƒ¡ãƒ‡ã‚£ã‚«ãƒ«ã‚¹ã‚¿ãƒƒãƒ•ã‚’æ´¾é£ã§ãã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€ã¨é€£çµ¡ãŒå…¥ã£ãŸã€‚" }
            ],
            question: "ã‚ãªãŸã®ã‚¯ãƒªãƒ‹ãƒƒã‚¯ã«ã€PCATãƒãƒ¼ãƒ ã‚’ã©ã‚“ãªç›®çš„ãƒ»å½¢ã§å…¥ã£ã¦ã‚‚ã‚‰ã„ã¾ã™ã‹ï¼Ÿ",
            choices: [
              {
                letter: "W",
                text: "ã€ã‚°ãƒ«ãƒ¼ãƒ—ãƒ¯ãƒ¼ã‚¯ã€‘è‡ªé™¢ã¸ã®PCATå—ã‘å…¥ã‚Œã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³",
                quality: "ok",
                comment: "ã“ã®ä»˜ç®‹ã®ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’å†™çœŸã«æ’®ã‚Šã€å…±æœ‰ãƒ‰ãƒ©ã‚¤ãƒ–ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚",
                bestComment: null,
                action: "open_upload"
              }
            ],
            nextAct: "summary"
          }
        ]
      }
    };

    const BCP_DATA = [
      {
        icon: "ğŸ‘¥",
        name: "äºº",
        sub: "ã‚¹ã‚¿ãƒƒãƒ•ãƒ»ä½“åˆ¶",
        color: "#3B82F6",
        bg: "rgba(59,130,246,0.1)",
        items: [
          { text: "ã‚¹ã‚¿ãƒƒãƒ•ã®ç·Šæ€¥é€£çµ¡å…ˆãƒªã‚¹ãƒˆã‚’æ•´å‚™ã—ã¦ã„ã‚‹", detail: "æºå¸¯ãƒ»è‡ªå®…ãƒ»å®¶æ—ã®é€£çµ¡å…ˆã‚’å«ã‚€" },
          { text: "é€£çµ¡ãƒ„ãƒªãƒ¼ï¼ˆé€£çµ¡ç¶²ï¼‰ã‚’æ±ºã‚ã¦ã„ã‚‹", detail: "èª°ãŒèª°ã«é€£çµ¡ã™ã‚‹ã‹ã®å½¹å‰²åˆ†æ‹…" },
          { text: "åœ¨é™¢ã§ããªã„ã‚¹ã‚¿ãƒƒãƒ•ãŒå‡ºãŸå ´åˆã®ä»£æ›¿ä½“åˆ¶ãŒã‚ã‚‹", detail: "æœ€ä½é™ã®äººæ•°ã§ã®è¨ºç™‚ãƒ—ãƒ©ãƒ³ã‚’ç­–å®š" },
          { text: "ã‚¹ã‚¿ãƒƒãƒ•è‡ªèº«ã®å®¶æ—å®‰å¦ç¢ºèªã®å„ªå…ˆã‚’èªã‚ã¦ã„ã‚‹", detail: "ã‚¹ã‚¿ãƒƒãƒ•ãŒå®‰å¿ƒã—ã¦åƒã‘ã‚‹ãƒ«ãƒ¼ãƒ«ä½œã‚Š" }
        ]
      },
      {
        icon: "ğŸ“¦",
        name: "ãƒ¢ãƒ",
        sub: "è¨­å‚™ãƒ»å‚™å“ãƒ»ç‰©å“",
        color: "#10B981",
        bg: "rgba(16,185,129,0.1)",
        items: [
          { text: "æ£šãƒ»å¤§å‹æ©Ÿå™¨ã‚’å£ã‚„åºŠã«å›ºå®šã—ã¦ã„ã‚‹", detail: "è»¢å€’é˜²æ­¢ã®è€éœ‡å›ºå®šï¼ˆLå‹é‡‘å…·ç­‰ï¼‰" },
          { text: "ç™ºé›»æ©Ÿãƒ»éå¸¸ç”¨é›»æºã‚’ç¢ºä¿ã—ã¦ã„ã‚‹", detail: "ç¨¼åƒçŠ¶æ³ãƒ»ç‡ƒæ–™ã‚‚å®šæœŸç¢ºèª" },
          { text: "3æ—¥åˆ†ä»¥ä¸Šã®åŒ»è–¬å“ãƒ»æ¶ˆè€—å“ã®åœ¨åº«ãŒã‚ã‚‹", detail: "ãƒ­ãƒ¼ãƒªãƒ³ã‚°ã‚¹ãƒˆãƒƒã‚¯æ–¹å¼ã§ç®¡ç†" },
          { text: "é‡è¦æ›¸é¡ãƒ»ãƒ‡ãƒ¼ã‚¿ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ã¨ã£ã¦ã„ã‚‹", detail: "ã‚¯ãƒ©ã‚¦ãƒ‰ã¾ãŸã¯åˆ¥æ‹ ç‚¹ã§ã®ä¿ç®¡" }
        ]
      },
      {
        icon: "ğŸ“¡",
        name: "é€šä¿¡",
        sub: "æƒ…å ±ãƒ»ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³",
        color: "#F59E0B",
        bg: "rgba(245,158,11,0.1)",
        items: [
          { text: "2ç¨®é¡ä»¥ä¸Šã®é€£çµ¡æ‰‹æ®µã‚’ç¢ºä¿ã—ã¦ã„ã‚‹", detail: "é›»è©±ãƒ»LINEãƒ»SMSãƒ»ç„¡ç·šãªã©" },
          { text: "ï¼ˆçµ±æ‹¬æœ¬éƒ¨ç­‰ã¸ã®è¢«ç½çŠ¶æ³å ±å‘Šãƒ«ãƒ¼ãƒ«ã‚’çŸ¥ã£ã¦ã„ã‚‹ï¼‰", detail: "è¢«ç½æ¦‚æ³ã®å ±å‘Šãƒ»é›†ç´„" },
          { text: "ï¼ˆåœ°åŸŸã®ä¿å¥åŒ»ç™‚ç¦ç¥‰èª¿æ•´æœ¬éƒ¨ã®é€£çµ¡å…ˆã‚’çŸ¥ã£ã¦ã„ã‚‹ï¼‰", detail: "çœŒãƒ»å¸‚ã®ç½å®³åŒ»ç™‚ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ã‚¿ãƒ¼ã¸ã®ç›¸è«‡ãƒ«ãƒ¼ãƒˆ" },
          { text: "æ‚£è€…ã•ã‚“ã¸ã®ä¸€æ–‰é€£çµ¡æ‰‹æ®µãŒã‚ã‚‹", detail: "SNSãƒ»é›»è©±ãƒªã‚¹ãƒˆãƒ»åœ°åŸŸã®è¦‹å®ˆã‚Šãƒãƒƒãƒˆ" }
        ]
      },
      {
        icon: "ğŸ’°",
        name: "ãŠé‡‘",
        sub: "è²¡å‹™ãƒ»ä¿é™ºãƒ»è³‡é‡‘",
        color: "#EF4444",
        bg: "rgba(239,68,68,0.1)",
        items: [
          { text: "è¨ºç™‚åœæ­¢æ™‚ã®å›ºå®šè²»ã‚’3ãƒ¶æœˆä»¥ä¸Šè³„ãˆã‚‹è³‡é‡‘æº–å‚™ãŒã‚ã‚‹", detail: "å®¶è³ƒãƒ»äººä»¶è²»ãƒ»ãƒªãƒ¼ã‚¹ç­‰ã®å›ºå®šè²»" },
          { text: "åŒ»æ¥­ç¶™ç¶šä¿é™ºï¼ˆä¼‘æ¥­è£œå„Ÿï¼‰ã«åŠ å…¥ã—ã¦ã„ã‚‹", detail: "ç½å®³æ™‚ã®ä¼‘æ¥­æå¤±ã‚’ã‚«ãƒãƒ¼" },
          { text: "BCPï¼ˆäº‹æ¥­ç¶™ç¶šè¨ˆç”»ï¼‰æ–‡æ›¸ã‚’ä½œæˆãƒ»æ›´æ–°ã—ã¦ã„ã‚‹", detail: "å¹´1å›ã®è¦‹ç›´ã—ãŒæ¨å¥¨ã•ã‚Œã‚‹" },
          { text: "åœ°åŸŸã®åŒ»å¸«ä¼šãƒ»é€£åˆä¼šã®BCPæ”¯æ´ã‚’æŠŠæ¡ã—ã¦ã„ã‚‹", detail: "æ”¯æ´åˆ¶åº¦ãƒ»ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’äº‹å‰ç¢ºèª" }
        ]
      }
    ];

    // ===========================
    // STATE
    // ===========================
    let currentAct = null;
    let currentSceneIndex = 0;
    let currentScene = null;
    let messageQueue = [];
    let isAnimating = false;
    let checkedItems = {};
    let totalBCPItems = 0;
    let nextSceneAfterAppsGuide = null;
    let nextActAfterBCP = 'summary';
    let messageRunId = 0;

    // ===========================
    // SCREEN MANAGEMENT
    // ===========================
    function showScreen(name) {
      closeJumpMenu();
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      const targetScreen = document.getElementById('screen-' + name);
      if (!targetScreen) return;
      targetScreen.classList.add('active');
      targetScreen.scrollTop = 0;
      requestAnimationFrame(() => {
        targetScreen.scrollTop = 0;
      });
      window.scrollTo(0, 0);
    }

    function updateProgress(val) {
      const bar = document.getElementById('progress-bar-wrap');
      const fill = document.getElementById('progress-bar');
      const label = document.getElementById('act-label');
      if (val > 0) {
        bar.classList.add('visible');
        label.classList.add('visible');
        fill.style.width = val + '%';
      } else {
        bar.classList.remove('visible');
        label.classList.remove('visible');
      }
    }

    function setActLabel(text) {
      document.getElementById('act-label').textContent = text;
    }

    function toggleJumpMenu(forceOpen) {
      const menu = document.getElementById('jump-menu');
      const overlay = document.getElementById('jump-menu-overlay');
      const toggleBtn = document.getElementById('menu-toggle-btn');
      if (!menu || !overlay || !toggleBtn) return;

      const shouldOpen = typeof forceOpen === 'boolean' ? forceOpen : !menu.classList.contains('open');
      menu.classList.toggle('open', shouldOpen);
      overlay.classList.toggle('visible', shouldOpen);
      toggleBtn.setAttribute('aria-expanded', String(shouldOpen));
    }

    function closeJumpMenu() {
      toggleJumpMenu(false);
    }

    function reloadPage() {
      closeJumpMenu();
      window.location.reload();
    }

    function jumpToOpeningDoor() {
      jumpToActDoor('act1');
    }

    function jumpToActDoor(actKey) {
      if (!STORY[actKey]) return;
      messageRunId += 1;
      if (actKey === 'act1') {
        checkedItems = {};
        currentAct = null;
        currentSceneIndex = 0;
        currentScene = null;
        messageQueue = [];
        nextActAfterBCP = 'summary';
        updateProgress(0);
      }
      nextSceneAfterAppsGuide = null;
      showChoiceArea(false);
      document.getElementById('chat-body').innerHTML = '';
      showActBreak(actKey, function () {
        startAct(actKey);
      });
    }

    function findSceneById(sceneId) {
      for (const [actKey, act] of Object.entries(STORY)) {
        const sceneIndex = act.scenes.findIndex(s => s.id === sceneId);
        if (sceneIndex !== -1) {
          return { actKey, act, scene: act.scenes[sceneIndex], sceneIndex };
        }
      }
      return null;
    }

    function jumpToScreen(screenName) {
      messageRunId += 1;
      nextSceneAfterAppsGuide = null;
      showChoiceArea(false);

      if (screenName === 'hazard') {
        goToHazard('summary');
        return;
      }
      if (screenName === 'bcp') {
        nextActAfterBCP = 'summary';
        showBCP();
        return;
      }
      if (screenName === 'summary') {
        showSummary();
        return;
      }
      if (screenName === 'news' || screenName === 'title') {
        currentAct = null;
        currentScene = null;
        messageQueue = [];
        updateProgress(0);
      }
      showScreen(screenName);
    }

    function jumpToScene(sceneId) {
      const found = findSceneById(sceneId);
      if (!found) return;
      const { actKey, act, scene, sceneIndex } = found;

      currentAct = actKey;
      currentSceneIndex = sceneIndex;
      nextSceneAfterAppsGuide = null;
      document.getElementById('chat-header-sub').textContent = act.headerSub;
      setActLabel(act.label + 'ï¼š' + act.title);

      const progMap = { act1: 15, act2: 35, act3: 55, act4: 70, act5: 85 };
      updateProgress(progMap[actKey] || 0);

      const chatBody = document.getElementById('chat-body');
      chatBody.innerHTML = '';
      addDateLabel();

      showScreen('chat');
      loadScene(scene);
      updateProgress(getProgress());
    }

    // ===========================
    // NEWS â†’ ACT 1
    // ===========================
    function startAct1() {
      showActBreak('act1', function () {
        startAct('act1');
      });
    }

    // ===========================
    // ACT BREAK
    // ===========================
    function showActBreak(actKey, callback) {
      const act = STORY[actKey];
      document.getElementById('break-act-number').textContent = act.label;
      document.getElementById('break-act-title').textContent = act.title;
      document.getElementById('break-act-goal').textContent = act.goal;
      document.getElementById('break-act-time').textContent = act.time;
      document.getElementById('break-facilitator-note').textContent = act.facilNote;
      document.getElementById('btn-act-start').onclick = function () {
        if (callback) callback();
      };
      showScreen('act-break');
    }

    // ===========================
    // CHAT: ACT START
    // ===========================
    function startAct(actKey) {
      currentAct = actKey;
      currentSceneIndex = 0;
      const act = STORY[actKey];
      document.getElementById('chat-header-sub').textContent = act.headerSub;

      const progMap = { act1: 15, act2: 35, act3: 55, act4: 70, act5: 85 };
      updateProgress(progMap[actKey] || 0);
      setActLabel(act.label + 'ï¼š' + act.title);

      const chatBody = document.getElementById('chat-body');
      chatBody.innerHTML = '';
      addDateLabel();

      showScreen('chat');
      loadScene(act.scenes[0]);
    }

    function addDateLabel() {
      const div = document.createElement('div');
      div.className = 'chat-date-label animate-in';
      div.innerHTML = '<span>2026å¹´2æœˆ23æ—¥ï¼ˆæœˆï¼‰</span>';
      document.getElementById('chat-body').appendChild(div);
    }

    function addFacilitatorBanner(note) {
      const banner = document.createElement('div');
      banner.className = 'facilitator-banner animate-in';
      banner.innerHTML = `<div class="icon">ğŸ™</div><p><strong>ãƒ•ã‚¡ã‚·ãƒªãƒ†ãƒ¼ã‚¿ãƒ¼ã‚ˆã‚Šï¼š</strong><br>${note}</p>`;
      document.getElementById('chat-body').appendChild(banner);
    }

    // ===========================
    // SCENE LOADING
    // ===========================
    function loadScene(scene) {
      currentScene = scene;
      messageRunId += 1;
      const runId = messageRunId;

      const chatBody = document.getElementById('chat-body');

      // Scene label
      const lbl = document.createElement('div');
      lbl.className = 'chat-scene-label animate-in';
      lbl.innerHTML = `<span>${scene.label}</span>`;
      chatBody.appendChild(lbl);

      const msgs = scene.messages || (scene.preMessages ? [...scene.preMessages] : []);
      messageQueue = [...msgs];
      showChoiceArea(false);
      showNextMessage(runId);
    }

    function loadNextScene(scene) {
      currentScene = scene;
      messageRunId += 1;
      const runId = messageRunId;
      const chatBody = document.getElementById('chat-body');

      const lbl = document.createElement('div');
      lbl.className = 'chat-scene-label animate-in';
      lbl.innerHTML = `<span>${scene.label}</span>`;
      chatBody.appendChild(lbl);

      const msgs = scene.preMessages || [];
      messageQueue = [...msgs];
      showChoiceArea(false);
      showNextMessage(runId);
    }

    function showNextMessage(runId = messageRunId) {
      if (runId !== messageRunId) return;

      if (messageQueue.length === 0) {
        // Show choices
        setTimeout(() => {
          if (runId !== messageRunId) return;
          showChoiceArea(true);
          scrollToBottom();
        }, 400);
        return;
      }

      const msg = messageQueue.shift();
      addMessage(msg);
      scrollToBottom();

      const delay = msg.text.length * 30 + 400;
      setTimeout(() => showNextMessage(runId), Math.min(delay, 1800));
    }

    // ===========================
    // MESSAGE RENDERING
    // ===========================
    const MEKKE_IMAGE_URL = 'clerk.png?v=20260221-1415';

    const AVATARS = {
      narrator: { emoji: 'ğŸ“–', label: 'ãƒŠãƒ¬ãƒ¼ã‚¿ãƒ¼', side: 'left' },
      nanta: { emoji: 'ğŸ¾', label: 'ãƒ‹ãƒ£ãƒ³ã‚¿é™¢é•·', side: 'right' },
      staff: { emoji: 'ğŸ‘©â€âš•ï¸', label: 'ã‚¹ã‚¿ãƒƒãƒ•', side: 'left' },
      mekke: { emoji: 'ğŸ±', label: 'ã‚ã£ã‘ã•ã‚“', side: 'left', image: MEKKE_IMAGE_URL },
      patient: { emoji: 'ğŸ§“', label: 'æ‚£è€…ã•ã‚“', side: 'left' },
      system: { emoji: 'ğŸš¨', label: 'ç·Šæ€¥æƒ…å ±', side: 'left' }
    };

    function addMessage(msg) {
      const chatBody = document.getElementById('chat-body');
      const av = AVATARS[msg.type] || AVATARS.narrator;
      const avatarHtml = av.image
        ? `<div class="bubble-avatar ${msg.type}"><img src="${av.image}" alt="${av.label}" onerror="this.style.display='none'; this.parentElement.textContent='${av.emoji || 'ğŸ‘¤'}';"></div>`
        : `<div class="bubble-avatar ${msg.type}">${av.emoji}</div>`;

      const wrap = document.createElement('div');
      wrap.className = `bubble-wrap ${av.side} animate-in`;

      const time = new Date(2026, 1, 23, 10, 45 + Math.floor(Math.random() * 60));
      const timeStr = time.getHours() + ':' + String(time.getMinutes()).padStart(2, '0');

      if (av.side === 'left') {
        wrap.innerHTML = `
      ${avatarHtml}
      <div class="bubble-content">
        <div class="bubble-sender">${av.label}</div>
        <div class="bubble ${av.side} ${msg.type === 'system' ? 'system-msg' : ''}">${msg.text.replace(/\n/g, '<br>')}</div>
        <div class="bubble-time">${timeStr}</div>
      </div>
    `;
      } else {
        wrap.innerHTML = `
      <div class="bubble-content">
        <div class="bubble-sender" style="text-align:right;">${av.label}</div>
        <div class="bubble right" style="float:right; clear:right;">${msg.text.replace(/\n/g, '<br>')}</div>
        <div class="bubble-time">${timeStr}</div>
      </div>
      ${avatarHtml}
    `;
      }

      chatBody.appendChild(wrap);
    }

    // ===========================
    // CHOICE AREA
    // ===========================
    function showChoiceArea(show) {
      const area = document.getElementById('choice-area');
      const btns = document.getElementById('choice-buttons');

      if (!show) {
        area.style.display = 'none';
        return;
      }

      area.style.display = 'block';
      document.getElementById('choice-label').textContent = currentScene.question;
      btns.innerHTML = '';

      currentScene.choices.forEach((choice, i) => {
        const btn = document.createElement('button');
        btn.className = `choice-btn ${choice.quality}`;
        btn.innerHTML = `
      <div class="choice-letter">${choice.letter}</div>
      <div>${choice.text}</div>
    `;
        btn.onclick = () => selectChoice(i);
        btns.appendChild(btn);
      });
    }

    // ===========================
    // CHOICE SELECTION â†’ RESULT
    // ===========================
    function selectChoice(index) {
      const choice = currentScene.choices[index];
      showResult(choice, index);
    }

    function showResult(choice, index) {
      const qualityMap = {
        great: { badge: 'â­ ã‚ˆã‚Šè‰¯ã„é¸æŠã§ã™ï¼', cls: 'great', title: 'ç´ æ™´ã‚‰ã—ã„åˆ¤æ–­ï¼' },
        ok: { badge: 'ğŸ‘ æ‚ªããªã„é¸æŠ', cls: 'good', title: 'ã¾ãšã¾ãšã®åˆ¤æ–­' },
        rethink: { badge: 'ğŸ¤” ã‚‚ã†å°‘ã—è€ƒãˆã¦ã¿ã‚ˆã†', cls: 'rethink', title: 'åˆ¥ã®è¦–ç‚¹ã‚’è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†' }
      };

      const q = qualityMap[choice.quality];
      const badgeEl = document.getElementById('result-badge');
      const titleEl = document.getElementById('result-title');
      const isWorkshopUpload = choice.action === 'open_upload';
      const isWorkshopSimulation = choice.action === 'open_simulation';
      const isWorkshopAction = isWorkshopUpload || isWorkshopSimulation;

      if (isWorkshopAction) {
        badgeEl.style.display = 'none';
        titleEl.textContent = isWorkshopSimulation ? 'ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³' : 'ã‚°ãƒ«ãƒ¼ãƒ—ãƒ¯ãƒ¼ã‚¯';
      } else {
        badgeEl.style.display = 'inline-flex';
        badgeEl.className = `result-badge ${q.cls}`;
        badgeEl.textContent = q.badge;
        titleEl.textContent = q.title;
      }

      const bestChoice = currentScene.choices.find(c => c.quality === 'great');
      const resultImageSrc = isWorkshopSimulation ? MEKKE_IMAGE_URL : `${choice.quality}.png`;
      const resultImageAlt = isWorkshopSimulation ? 'ã‚ã£ã‘ã•ã‚“' : choice.quality;

      let html = `
    <div style="text-align: center; margin: 16px 0;">
      <!-- ç”»åƒæŒ¿å…¥ãƒã‚¤ãƒ³ãƒˆï¼šãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚¤ãƒ©ã‚¹ãƒˆï¼ˆ${choice.quality}ï¼‰ -->
      <img src="${resultImageSrc}" alt="${resultImageAlt}" style="width: 140px; height: 140px; border-radius: 50%; border: 4px solid ${choice.quality === 'great' ? '#10B981' : choice.quality === 'rethink' ? '#F59E0B' : '#E2E8F0'}; margin: 0 auto; display: block; object-fit: cover; background: white; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
    </div>
    
    <div class="result-selected ${q.cls}">
      <div class="result-selected-label">ã‚ãªãŸã®é¸æŠ</div>
      <div class="result-selected-text">${choice.letter}. ${choice.text}</div>
    </div>

    <div class="result-comment">
      <h3>ğŸ’¬ è§£èª¬</h3>
      <p>${choice.comment}</p>
    </div>
  `;

      if (choice.quality !== 'great' && choice.bestComment) {
        html += `
      <div class="best-choice-box">
        <h3>âœ… ã‚ˆã‚Šè‰¯ã„é¸æŠã¯ï¼Ÿ</h3>
        <p>${choice.bestComment}</p>
      </div>
    `;
      }

      // Learning point (last scene of each act)
      if (currentScene.learningPoint) {
        html += `
      <div class="learning-box">
        <h3>ğŸ“š å­¦ã³ã®ãƒã‚¤ãƒ³ãƒˆ</h3>
        <p>${currentScene.learningPoint.replace(/\n/g, '<br>')}</p>
      </div>
    `;
      }

      // Brief primer shown before leaving the contact-tree scene.
      if (currentScene.id === '2-1') {
        html += `
      <div class="learning-box">
        <h3>ğŸ“¡ ç½å®³æ™‚ã®é€£çµ¡ãƒ„ãƒªãƒ¼ã¨ã¯ï¼Ÿ</h3>
        <p>
          ã€Œèª°ãŒã€èª°ã«ã€ä½•ã‚’ä¼ãˆã‚‹ã‹ã€ã‚’å¹³æ™‚ã«æ±ºã‚ã¦ãŠãç·Šæ€¥é€£çµ¡ç¶²ã®ã“ã¨ã§ã™ã€‚<br>
          1äººãŒæ¬¡ã®æ‹…å½“è€…ã¸é †ã«å±•é–‹ã™ã‚‹ã“ã¨ã§ã€å®‰å¦ãƒ»ç¾åœ¨åœ°ãƒ»å‡ºå‹¤å¯å¦ãªã©ã‚’çŸ­æ™‚é–“ã§å…±æœ‰ã§ãã¾ã™ã€‚<br>
          éŸ³å£°é€šè©±ãŒæ··é›‘ã—ã¦ã¤ãªãŒã‚Šã«ãã„çŠ¶æ³ã«å‚™ãˆã€é›»è©±ã«åŠ ãˆã¦LINEãƒ»SMSãªã©ä»£æ›¿æ‰‹æ®µã‚‚ã‚»ãƒƒãƒˆã§æ±ºã‚ã¦ãŠãã®ãŒãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚
        </p>
      </div>
    `;
      }

      // Next button
      const nextAct = currentScene.nextAct;
      const nextSceneId = currentScene.nextScene;
      let nextButtonHtml = '';

      if (nextAct === 'hazard') {
        const afterBCPAct = currentScene.nextAfterBCP || 'summary';
        nextButtonHtml = `<button class="btn-continue" onclick="goToHazard('${afterBCPAct}')">ãƒã‚¶ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã‚’ç¢ºèªã™ã‚‹ â†’</button>`;
      } else if (nextAct === 'summary') {
        nextButtonHtml = `<button class="btn-continue" onclick="showSummary()">ã¾ã¨ã‚ã¸é€²ã‚€ â†’</button>`;
      } else if (nextAct) {
        const actKey = nextAct;
        const actLabel = STORY[actKey].label;
        nextButtonHtml = `<button class="btn-continue" onclick="goToNextAct('${actKey}')">ã‚°ãƒ«ãƒ¼ãƒ—å†…ã§æŒ¯ã‚Šè¿”ã£ãŸã‚‰ ${actLabel} ã¸ â†’</button>`;
      } else if (nextSceneId) {
        if (currentScene.id === '2-info') {
          nextButtonHtml = `<button class="btn-continue" onclick="openDisasterAppsGuide('${nextSceneId}')">é˜²ç½ã‚¢ãƒ—ãƒªç´¹ä»‹ã¸ â†’</button>`;
        } else {
          nextButtonHtml = `<button class="btn-continue" onclick="goToNextScene('${nextSceneId}')">æ¬¡ã®ã‚·ãƒ¼ãƒ³ã¸ â†’</button>`;
        }
      }

      if (choice.action === 'open_simulation') {
        const simulationNextButtonHtml = nextButtonHtml.replace('btn-continue', 'btn-continue btn-sim-control');
        html += `
      <div class="learning-box simulation-embed">
        <iframe
          src="https://udify.app/chatbot/lDBY9ClRYT3XKx9m"
          frameborder="0"
          allow="microphone">
        </iframe>
      </div>
      <div class="simulation-after-box">${simulationNextButtonHtml}</div>
      <div class="simulation-scroll-spacer" aria-hidden="true"></div>`;
      } else if (choice.action === 'open_upload') {
        html += `<div style="margin:20px 0;"><a href="https://drive.google.com/drive/folders/19GiNAp9a34pMP2E0POAeSvcqjCSeQhbp?usp=sharing" target="_blank" rel="noopener noreferrer" class="btn-continue" style="background:#10B981; display:block; text-align:center; text-decoration:none;">ğŸ“ å†™çœŸã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹</a></div>`;
      }
      if (choice.action !== 'open_simulation') {
        html += nextButtonHtml;
      }

      document.getElementById('result-body').innerHTML = html;
      showScreen('result');
      updateProgress(getProgress());
    }

    function getProgress() {
      const sceneMap = {
        '1-1': 20, '1-2': 30,
        '2-1': 40, '2-2': 50,
        '3-1': 60, '3-2': 65,
        '4-1': 75, '4-2': 80,
        '5-1': 90
      };
      return sceneMap[currentScene?.id] || 10;
    }

    function goToNextScene(sceneId) {
      const act = STORY[currentAct];
      const scene = act.scenes.find(s => s.id === sceneId);
      if (!scene) return;

      showScreen('chat');

      const chatBody = document.getElementById('chat-body');
      showChoiceArea(false);
      loadNextScene(scene);
      scrollToBottom();
    }

    function openDisasterAppsGuide(sceneId) {
      nextSceneAfterAppsGuide = sceneId;
      setActLabel('é˜²ç½ã‚¢ãƒ—ãƒªç´¹ä»‹');
      showScreen('disaster-apps');
    }

    function continueFromDisasterAppsGuide() {
      if (!nextSceneAfterAppsGuide) return;
      const sceneId = nextSceneAfterAppsGuide;
      nextSceneAfterAppsGuide = null;
      const act = STORY[currentAct];
      setActLabel(act.label + 'ï¼š' + act.title);
      goToNextScene(sceneId);
    }

    function goToNextAct(actKey) {
      showActBreak(actKey, function () {
        startAct(actKey);
      });
    }

    function goToHazard(nextAct = 'summary') {
      nextActAfterBCP = nextAct || 'summary';
      updateProgress(92);
      setActLabel('ãƒã‚¶ãƒ¼ãƒ‰ãƒãƒƒãƒ—ç¢ºèª');
      showScreen('hazard');
    }

    // ===========================
    // BCP SCREEN
    // ===========================
    function showBCP() {
      updateProgress(96);
      setActLabel('BCPãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ');
      renderBCP();
      showScreen('bcp');
    }

    function renderBCP() {
      const body = document.getElementById('bcp-body');
      totalBCPItems = 0;
      let html = '';
      const bcpNextLabel = nextActAfterBCP === 'summary'
        ? 'ã¾ã¨ã‚ã¸é€²ã‚€ â†’'
        : `${STORY[nextActAfterBCP]?.label || 'æ¬¡ã®å¹•'}ã¸é€²ã‚€ â†’`;

      BCP_DATA.forEach((cat, ci) => {
        totalBCPItems += cat.items.length;
        html += `
      <div class="bcp-category">
        <div class="bcp-cat-header">
          <div class="bcp-cat-icon" style="background:${cat.bg};">${cat.icon}</div>
          <div class="bcp-cat-info">
            <div class="bcp-cat-name">${cat.name}</div>
            <div class="bcp-cat-sub">${cat.sub}</div>
          </div>
        </div>
        <div class="bcp-items">
          ${cat.items.map((item, ii) => {
          const key = `${ci}-${ii}`;
          return `
              <div class="bcp-item" onclick="toggleBCP('${key}')">
                <div class="bcp-checkbox" id="chk-${key}"></div>
                <div class="bcp-item-text">
                  <strong>${item.text}</strong>
                  <span>${item.detail}</span>
                </div>
              </div>
            `;
        }).join('')}
        </div>
      </div>
    `;
      });

      html += `
    <div class="bcp-score-area">
      <div class="bcp-score-label">ç¾åœ¨ã®ãƒã‚§ãƒƒã‚¯æ•°</div>
      <div>
        <span class="bcp-score-num" id="bcp-score">0</span>
        <span class="bcp-score-total"> / ${totalBCPItems}</span>
      </div>
      <div class="bcp-score-msg" id="bcp-score-msg">ãƒã‚§ãƒƒã‚¯ã—ãªãŒã‚‰ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†</div>
    </div>
    <button class="btn-bcp-next" onclick="continueAfterBCP()">${bcpNextLabel}</button>
  `;

      body.innerHTML = html;
    }

    function toggleBCP(key) {
      const chk = document.getElementById('chk-' + key);
      if (!chk) return;

      if (checkedItems[key]) {
        delete checkedItems[key];
        chk.classList.remove('checked');
      } else {
        checkedItems[key] = true;
        chk.classList.add('checked');
      }

      updateBCPScore();
    }

    function updateBCPScore() {
      const count = Object.keys(checkedItems).length;
      document.getElementById('bcp-score').textContent = count;

      const msgs = [
        [0, 3, 'ã“ã‚Œã‹ã‚‰æ•´å‚™ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚ä¸€ã¤ãšã¤å–ã‚Šçµ„ã‚‚ã†ï¼'],
        [4, 7, 'å°‘ã—ãšã¤å‚™ãˆãŒã§ãã¦ã„ã¾ã™ã€‚ã•ã‚‰ã«å……å®Ÿã•ã›ã¾ã—ã‚‡ã†ã€‚'],
        [8, 11, 'ã‹ãªã‚Šå‚™ãˆãŒã§ãã¦ã„ã¾ã™ï¼æ®‹ã‚Šã‚’ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚'],
        [12, 16, 'ä¸‡å…¨ã®å‚™ãˆã§ã™ï¼ãœã²åœ°åŸŸã§ã‚‚å…±æœ‰ã—ã¦ãã ã•ã„ï¼']
      ];

      for (const [min, max, msg] of msgs) {
        if (count >= min && count <= max) {
          document.getElementById('bcp-score-msg').textContent = msg;
          break;
        }
      }
    }

    // ===========================
    // SUMMARY
    // ===========================
    function showSummary() {
      updateProgress(100);
      setActLabel('ã¾ã¨ã‚');
      showScreen('summary');
    }

    function continueAfterBCP() {
      const nextAct = nextActAfterBCP || 'summary';
      if (nextAct !== 'summary' && STORY[nextAct]) {
        goToNextAct(nextAct);
        return;
      }
      showSummary();
    }

    // ===========================
    // RESTART
    // ===========================
    function restart() {
      checkedItems = {};
      currentAct = null;
      currentSceneIndex = 0;
      currentScene = null;
      messageQueue = [];
      nextSceneAfterAppsGuide = null;
      nextActAfterBCP = 'summary';
      messageRunId += 1;
      updateProgress(0);
      document.getElementById('action-input').value = '';
      document.getElementById('chat-body').innerHTML = '';
      showScreen('title');
    }

    // ===========================
    // UTILITIES
    // ===========================
    function scrollToBottom() {
      const chatBody = document.getElementById('chat-body');
      if (!chatBody) return;
      requestAnimationFrame(() => {
        chatBody.scrollTop = chatBody.scrollHeight;
        requestAnimationFrame(() => {
          chatBody.scrollTop = chatBody.scrollHeight;
        });
      });
    }
  </script>
</body>

</html>
